<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NC 1 Eagles - Botros Race</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-primary: #0f172a; --bg-secondary: rgba(30, 41, 59, 0.75); --bg-tertiary: rgba(51, 65, 85, 0.75); --bg-locked: rgba(71, 85, 105, 0.75);
            --accent-cyan: #06b6d4; --accent-green: #22c55e; --accent-red: #ef4444; --accent-yellow: #facc15; --text-primary: #f8fafc; --text-secondary: #94a3b8;
        }
        body { font-family: 'Cairo', sans-serif; background-image: url('https://v15mbanna3.github.io/my-sounds/Botros%20race.png'); background-size: cover; background-position: center; background-attachment: fixed; color: var(--text-primary); margin: 0; padding: 1rem; display: flex; align-items: center; justify-content: center; min-height: 100vh; box-sizing: border-box; }
        main { width: 100%; max-width: 900px; }
        .screen-container { width: 100%; padding: 1.5rem; border: 1px solid rgba(51, 65, 85, 0.5); border-radius: 1.5rem; background-color: rgba(15, 23, 42, 0.85); backdrop-filter: blur(10px); box-sizing: border-box; display: none; position: relative; overflow: hidden; }
        .screen-container.active { display: block; }
        .screen-title { font-size: 2rem; font-weight: 900; text-align: center; margin-top: 0; margin-bottom: 2rem; color: var(--accent-cyan); text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .screen-subtitle { text-align: center; color: var(--text-secondary); font-size: 1rem; margin-top: -1.5rem; margin-bottom: 2rem; max-width: 500px; margin-left: auto; margin-right: auto; }
        .input-group { margin-bottom: 1rem; position: relative; }
        .input-field { width: 100%; padding: 0.75rem 1rem; background-color: var(--bg-secondary); border: 2px solid var(--bg-tertiary); border-radius: 0.75rem; font-size: 1rem; color: var(--text-primary); box-sizing: border-box; text-align: right; transition: border-color 0.3s; }
        .input-field:focus { border-color: var(--accent-cyan); outline: none; }
        .btn { width: 100%; padding: 1rem; border-radius: 0.75rem; font-size: 1.125rem; font-weight: 700; border: none; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .btn:disabled { background-color: var(--bg-locked); color: var(--text-secondary); cursor: not-allowed; }
        .btn-primary { background-color: var(--accent-cyan); color: white; }
        .btn-primary:hover:not(:disabled) { background-color: #0891b2; }
        .btn-secondary { background-color: var(--bg-tertiary); color: var(--text-primary); }
        .btn-secondary:hover:not(:disabled) { background-color: rgba(71, 85, 105, 0.8); }
        .btn-whatsapp { background-color: #25D366; color: white; }
        .btn-whatsapp:hover { background-color: #1DA851; }
        .back-btn { display: inline-block; margin: 2rem auto 0; width: auto; padding: 0.5rem 1rem; font-size: 1rem; }
        #mute-btn { position: fixed; top: 1.5rem; right: 1.5rem; width: 50px; height: 50px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.1); color: white; font-size: 1.5rem; border: 1px solid var(--bg-tertiary); cursor: pointer; z-index: 1000; display: flex; align-items: center; justify-content: center; }
        #registration-screen .form-container, #join-lobby-screen .form-container { max-width: 400px; margin: auto; text-align: center; }
        #main-menu-screen .welcome-container { position: relative; }
        #main-menu-screen .welcome-message { font-size: 1.75rem; font-weight: 900; text-align: center; margin-bottom: 0.5rem; }
        #main-menu-screen .player-title-medal { font-size: 1.5rem; vertical-align: middle; }
        #main-menu-screen .welcome-message .name { color: var(--accent-cyan); }
        #main-menu-screen .medals-display { text-align: center; font-size: 1.5rem; margin-bottom: 2rem; min-height: 30px; }
        #logout-btn { position: absolute; top: 0; left: 0; background: none; border: none; color: var(--text-secondary); cursor: pointer; padding: 0.5rem; font-size: 0.8rem; }
        .tabs-container { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .tab-item { background-color: var(--bg-secondary); padding: 1.5rem 1rem; border-radius: 1rem; text-align: center; font-size: 1rem; font-weight: 700; cursor: pointer; transition: transform 0.2s ease, background-color 0.2s ease; }
        .tab-item .tab-icon { font-size: 2rem; margin-bottom: 0.5rem; line-height: 1; }
        .list-container .list-item { display: flex; justify-content: space-between; align-items: center; background-color: var(--bg-secondary); padding: 1rem; border-radius: 0.75rem; margin-bottom: 0.5rem; }
        .list-container .list-item .item-info { display: flex; align-items: center; gap: 0.75rem; flex-grow: 1; }
        .list-container .list-item .player-title-medal { font-size: 1.5rem; }
        .list-container .list-item .item-name-details { display: flex; flex-direction: column; align-items: flex-start; }
        .list-container .list-item .item-name { font-weight: 700; font-size: 1.1rem; }
        .list-container .list-item .item-rank-name { font-size: 0.85rem; color: var(--text-secondary); }
        .list-container .list-item .item-value { font-weight: 700; font-size: 1rem; color: var(--accent-yellow); margin-right: auto; }
        .list-container .list-item .item-rank { font-weight: 900; font-size: 1.2rem; color: var(--accent-cyan); }
        .list-container .winner-1 { border: 2px solid gold; }
        .list-container .winner-2 { border: 2px solid silver; }
        .list-container .winner-3 { border: 2px solid #cd7f32; }
        #single-player-menu-screen .card { background-color: var(--bg-secondary); padding: 1.5rem; border-radius: 1rem; border: 2px solid var(--bg-tertiary); transition: all 0.2s; }
        #single-player-menu-screen .card:not(.locked) { cursor: pointer; }
        #single-player-menu-screen .card:not(.locked):hover { border-color: var(--accent-cyan); transform: scale(1.02); }
        #single-player-menu-screen .card.locked { background-color: var(--bg-locked); color: var(--text-secondary); cursor: not-allowed; }
        #single-player-menu-screen .card-title { font-size: 1.25rem; font-weight: 900; margin: 0 0 0.5rem 0; }
        #single-player-menu-screen .card.locked .card-title { color: var(--text-secondary); }
        #single-player-menu-screen .card-details { color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9rem;}
        #level-select-screen .levels-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 1rem; }
        #level-select-screen .level-card { background-color: var(--bg-secondary); padding: 1.5rem; border-radius: 1rem; border: 2px solid var(--bg-tertiary); transition: all 0.2s; text-align: center; }
        #level-select-screen .level-card:not(.locked) { cursor: pointer; }
        #level-select-screen .level-card:not(.locked):hover { border-color: var(--accent-cyan); transform: scale(1.05); }
        #level-select-screen .level-title { font-size: 1.1rem; font-weight: 900; margin: 0; }
        #level-select-screen .level-card.locked { background-color: var(--bg-locked); color: var(--text-secondary); }
        #level-select-screen .level-card.completed { border-color: var(--accent-green); background-color: rgba(34, 197, 94, 0.2); }
        #match-screen { text-align: center; }
        #match-screen .match-header { font-size: 1.5rem; font-weight: 900; margin-bottom: 1rem; display: flex; justify-content: center; align-items: center; gap: 1rem; }
        #match-screen .match-header .player-title-medal { font-size: 1.3rem; }
        #match-screen .question-counter { font-size: 1rem; color: var(--text-secondary); margin-bottom: 1rem; }
        #match-screen .timer-container { width: 100%; background-color: var(--bg-tertiary); border-radius: 5px; margin-bottom: 1.5rem; }
        #match-screen .timer-bar { width: 100%; height: 10px; background-color: var(--accent-red); border-radius: 5px; transition: width 1s linear; }
        #match-screen .question-text { font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; min-height: 100px; }
        #match-screen .options-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }
        #match-screen .option-btn.correct { background-color: var(--accent-green) !important; color: white !important; transform: scale(1.05); }
        #match-screen .option-btn.wrong { background-color: var(--accent-red) !important; color: white !important; }
        #match-screen .option-btn.disabled { opacity: 0.6; pointer-events: none; }
        #online-lobby-screen .lobby-code { font-size: 2rem; font-weight: 700; letter-spacing: 0.2em; text-align: center; color: var(--accent-cyan); margin-bottom: 0.5rem; user-select: all; cursor: pointer; }
        #podium-screen .podium-container { display: flex; align-items: flex-end; justify-content: center; gap: 1rem; height: 300px; text-align: center; }
        #podium-screen .podium-stand { background-color: var(--bg-tertiary); border-radius: 1rem 1rem 0 0; padding: 1rem; width: 120px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        #podium-screen .stand-2 { height: 200px; background-color: #7b8e9e; }
        #podium-screen .stand-1 { height: 250px; background-color: #c9b037; }
        #podium-screen .stand-3 { height: 150px; background-color: #a0522d; }
        #podium-screen .podium-rank { font-size: 3rem; font-weight: 900; }
        #podium-screen .podium-name { font-size: 1.1rem; font-weight: 700; word-wrap: break-word; }
        #podium-screen .podium-score { font-size: 1rem; color: var(--text-secondary); }
        @media (min-width: 768px) {
            #match-screen .options-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>
    <button id="mute-btn">🔇</button>
    <main>
        <div id="loading-screen" class="screen-container active"><h1 class="screen-title">...جار التحميل</h1></div>
        <div id="registration-screen" class="screen-container"></div>
        <div id="main-menu-screen" class="screen-container"></div>
        <div id="online-menu-screen" class="screen-container"></div>
        <div id="join-lobby-screen" class="screen-container"></div>
        <div id="online-lobby-screen" class="screen-container"></div>
        <div id="leaderboard-screen" class="screen-container"></div>
        <div id="awards-screen" class="screen-container"></div>
        <div id="single-player-menu-screen" class="screen-container"></div>
        <div id="level-select-screen" class="screen-container"></div>
        <div id="match-screen" class="screen-container"></div>
        <div id="podium-screen" class="screen-container"></div>
    </main>

    <div id="templates" style="display:none;">
        <div id="registration-screen-template">
             <div class="form-container">
                <h1 class="screen-title" style="margin-bottom: 1rem; font-size: 4rem;">🦅</h1>
                <h2 class="screen-title" style="font-size: 1.5rem; margin-top: 0; margin-bottom: 2rem;">Botros Race</h2>
                <div class="input-group">
                    <input id="name-input" type="text" class="input-field" placeholder="الاسم الكامل">
                </div>
                <div class="input-group">
                    <input id="teleopti-id-input" type="tel" pattern="[0-9]*" class="input-field" placeholder="Teleopti ID">
                </div>
                <button id="login-btn" class="btn btn-primary">تسجيل الدخول</button>
            </div>
        </div>
        <div id="main-menu-screen-template">
            <div class="welcome-container">
                <h1 id="welcome-message" class="welcome-message"></h1>
                <button id="logout-btn">خروج</button>
            </div>
            <div id="medals-display" class="medals-display"></div>
            <div class="tabs-container">
                <div id="single-player-tab" class="tab-item"><div class="tab-icon">👤</div><div>طور اللعب الفردي</div></div>
                <div id="online-tab" class="tab-item"><div class="tab-icon">👥</div><div>اللعب الجماعي</div></div>
                <div id="leaderboard-tab" class="tab-item"><div class="tab-icon">🏆</div><div>Leaderboard</div></div>
                <div id="awards-tab" class="tab-item"><div class="tab-icon">🎁</div><div>الكؤوس والمكافآت</div></div>
            </div>
        </div>
        <div id="online-menu-screen-template">
             <h1 class="screen-title">ساحات المنافسة المباشرة</h1>
             <div class="button-group" style="max-width: 400px; margin: auto;">
                 <button id="create-1v1-lobby-btn" class="btn btn-primary">⚔️ إنشاء مواجهة 1 ضد 1</button>
                 <button id="create-massive-lobby-btn" class="btn btn-primary">🏟️ إنشاء منافسة حاشدة</button>
                 <button id="join-lobby-btn" class="btn btn-secondary">🚪 الانضمام بكود</button>
                 <button class="btn btn-secondary back-btn">العودة للقائمة الرئيسية</button>
             </div>
        </div>
        <div id="join-lobby-screen-template">
           <div class="form-container">
             <h1 class="screen-title">الانضمام لمنافسة</h1>
             <p class="screen-subtitle">أدخل كود المنافسة للانضمام إلى زملائك.</p>
             <input id="lobby-code-input" type="text" class="input-field" placeholder="كود المنافسة" style="text-align: center; text-transform: uppercase;">
             <button id="submit-join-lobby-btn" class="btn btn-primary">انضم الآن</button>
             <button class="btn btn-secondary back-btn">العودة</button>
           </div>
        </div>
        <div id="online-lobby-screen-template">
            <h1 id="lobby-title" class="screen-title">غرفة الانتظار</h1>
            <div style="text-align: center; margin-bottom: 1rem;">
                <p style="font-size: 0.9rem; color: var(--text-secondary); margin:0;">شارك هذا الكود أو الرابط</p>
                <div id="lobby-code-display" class="lobby-code" title="اضغط للنسخ"></div>
                <button id="share-whatsapp-btn" class="btn btn-whatsapp">شارك عبر واتساب</button>
            </div>
            <h2 class="screen-subtitle" style="margin-top: 2rem;">اللاعبون المتواجدون</h2>
            <div id="lobby-players-list" class="list-container"></div>
            <div id="lobby-status" style="text-align:center; min-height: 1.5rem; margin: 1rem 0; color: var(--accent-yellow);"></div>
            <button id="start-game-btn" class="btn btn-primary" disabled>ابدأ المباراة (للمضيف فقط)</button>
            <button class="btn btn-secondary back-btn">الخروج من الغرفة</button>
        </div>
        <div id="leaderboard-screen-template">
            <h1 class="screen-title">لوحة الصدارة</h1>
            <div id="leaderboard-list" class="list-container"></div>
            <button class="btn btn-secondary back-btn">العودة للقائمة الرئيسية</button>
        </div>
        <div id="awards-screen-template">
            <h1 class="screen-title">الكؤوس والمكافآت</h1>
            <div id="awards-list" class="list-container"></div>
            <button class="btn btn-secondary back-btn">العودة للقائمة الرئيسية</button>
        </div>
        <div id="single-player-menu-screen-template">
            <h1 class="screen-title">طور اللعب الفردي</h1>
            <p class="screen-subtitle">أكمل المستويات لتفتح تحديات أصعب وتحصل على ألقاب وميداليات.</p>
            <div id="tiers-container" style="display: grid; grid-template-columns: 1fr; gap: 1rem;"></div>
            <button class="btn btn-secondary back-btn">العودة للقائمة الرئيسية</button>
        </div>
        <div id="level-select-screen-template">
            <h1 id="level-select-title" class="screen-title"></h1>
            <div id="levels-grid" class="levels-grid"></div>
            <button class="btn btn-secondary back-btn" data-target="single-player-menu-screen">العودة للمراحل</button>
        </div>
        <div id="match-screen-template">
            <h2 class="match-header" id="match-header"></h2>
            <p class="question-counter" id="question-counter"></p>
            <div class="timer-container"><div class="timer-bar" id="timer-bar"></div></div>
            <h3 class="question-text" id="question-text"></h3>
            <div class="options-grid" id="options-grid"></div>
            <button id="surrender-btn" class="btn btn-danger" style="margin-top: 2rem; display:none;">استسلام</button>
        </div>
        <div id="podium-screen-template">
             <h1 class="screen-title">منصة التتويج</h1>
            <div id="podium-container" class="podium-container"></div>
            <button class="btn btn-primary back-btn">العودة للقائمة الرئيسية</button>
        </div>
    </div>
    
       <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, collection, query, orderBy, limit, serverTimestamp, updateDoc, arrayUnion, runTransaction, getDocs, writeBatch, increment, onSnapshot } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

    const firebaseConfig = {
  apiKey: "AIzaSyAvGDEbWA3UumCa0P4AfFUVv6xxwL5Porc",
  authDomain: "nc1-eagles-race.firebaseapp.com",
  databaseURL: "https://nc1-eagles-race-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "nc1-eagles-race",
  storageBucket: "nc1-eagles-race.firebasestorage.app",
  messagingSenderId: "772415266484",
  appId: "1:772415266484:web:5813cb3355f7298ade81e1"
};
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- Game Config ---
        const TIERS_CONFIG = [
            { id: 'tier-1', name: 'ايجنت عادي', levels: 3, questionsPerLevel: 3, timePerQuestion: 30, medal: '🥉' },
            { id: 'tier-2', name: 'ايجنت جامد', levels: 3, questionsPerLevel: 4, timePerQuestion: 25, medal: '🥈' },
            { id: 'tier-3', name: 'ايجنت كوالتي', levels: 4, questionsPerLevel: 5, timePerQuestion: 20, medal: '🥇' },
            { id: 'tier-4', name: 'ايجنت سوبر فايزر', levels: 4, questionsPerLevel: 6, timePerQuestion: 15, medal: '🏆' },
            { id: 'tier-5', name: 'ايجنت بطرس', levels: 5, questionsPerLevel: 7, timePerQuestion: 10, medal: '💎' },
        ];
        
        // NOTE: correct_answer is a 0-based index (0 for first option, 1 for second, etc.)
         const OFFLINE_QUESTION_BANK = [
         {
            "id": 1,
            "question": "حسب الإرشادات العامة، ماذا يجب على الموظف التأكد منه أولاً إذا توقف أوردر تجديد مبكر للعميل 'Abnormal'؟",
            "options": {
              "1": "أن العميل دفع الفاتورة الأخيرة.",
              "2": "أن سرعة العميل مناسبة للباقة الجديدة.",
              "3": "أن بروفايل الـ FV (Fixed Voice) نشط عند العميل.",
              "4": "أن الراوتر الخاص بالعميل يدعم الخدمة."
            },
            "correct_answer": "3",
            "explanation": "النصائح العامة 'Non Technical Tips' تشدد على أنه في حالة توقف أوردر التجديد المبكر (Abnormal)، يجب أولاً التأكد من أن بروفايل FV فعال ونشط."
          },
          {
            "id": 3,
            "question": "لكي يتمكن العميل من استخدام الباقات الإضافية، ما هو الشرط الأساسي المتعلق بالباقة الأساسية؟",
            "options": {
              "1": "أن تكون الباقة الأساسية مدفوعة مقدماً.",
              "2": "أن تكون الباقة الأساسية ذات سرعة عالية.",
              "3": "أن تكون الباقة الأساسية نشطة (Active).",
              "4": "أن يكون قد مر على اشتراكها شهر على الأقل."
            },
            "correct_answer": "3",
            "explanation": "ورد في الملاحظات 'علشان العميل يقدر يستخدم من الباقات الإضافية لازم الباقة الأساسية تكون Active'."
          },
{ "id": 4, "question": "لأي نوع من الحسابات يمكن تقديم طلب 'Recharge by mistake'؟", "options": { "1": "الحسابات الموقوفة مؤقتاً.", "2": "الحسابات الجديدة فقط.", "3": "الحسابات النشطة (Active accounts) فقط.", "4": "جميع أنواع الحسابات." }, "correct_answer": "3", "explanation": "الإرشادات تنص على أن طلب 'Recharge by mistake' يمكن تقديمه للحسابات النشطة فقط." },
             { "id": 5, "question": "المبلغ الموضح للعميل في رسالة تجديد الاشتراك، ماذا يشمل؟", "options": { "1": "قيمة الباقة الأساسية فقط بدون ضرائب.", "2": "قيمة الباقة الأساسية وضريبة القيمة المضافة.", "3": "قيمة الباقة الأساسية والباقات الإضافية.", "4": "قيمة الباقة الأساسية ورسوم إدارية." }, "correct_answer": "2", "explanation": "الإرشادات توضح أن 'المبلغ الموضح للعميل في رسالة تحديد الاشتراك بيكون شامل ضريبة القيمة المضافة وبيكون خاص بالباقة الأساسية فقط'." },
             { "id": 6, "question": "في باقة 'GAMERZ'، كيف يتم حساب استهلاك الجيجا عند ممارسة الألعاب (Gaming)؟", "options": { "1": "الجيجا تُحسب بجيجا.", "2": "الجيجا تُحسب بـ 2 جيجا.", "3": "الجيجا تُحسب بنصف جيجا.", "4": "أول 50 جيجا مجانية." }, "correct_answer": "3", "explanation": "في باقات الألعاب، الجيجا تُحسب بنصف جيجا، مما يعني أن 125 جيجا المخصصة للألعاب تصل فعلياً إلى 250 جيجا من الاستخدام." },
             { "id": 7, "question": "إذا استهلك عميل باقة 'GAMERZ' حصة الألعاب (125 جيجا)، من أين يكمل الاستهلاك؟", "options": { "1": "تتوقف الخدمة حتى التجديد.", "2": "يكمل من الباقة الأساسية (250 جيجا) والجيجا تُحسب بجيجا.", "3": "يمكنه شراء باقة ألعاب إضافية فقط.", "4": "يكمل من الباقة الأساسية والجيجا تُحسب بنصف جيجا." }, "correct_answer": "2", "explanation": "حسب الشرح، 'ولو خلصت ال 125 جيجا ها يكمل الإستهلاك من ال 250 جيجا الأساسية ولكن الجيجا هاتتحسب بجيجا'." },
             { "id": 8, "question": "عندما يقوم عميل باقة 'GAMERZ' بتحميل أو تحديث لعبة من خارج اللعبة نفسها (مثلاً من متجر تطبيقات على الموبايل)، كيف يتم حساب الاستهلاك؟", "options": { "1": "يُخصم من باقة الألعاب (الجيجا بنص جيجا).", "2": "يُخصم من الباقة الأساسية (الجيجا بجيجا).", "3": "لا يتم احتساب الاستهلاك.", "4": "يُخصم نصف الاستهلاك من باقة الألعاب والنصف الآخر من الأساسية." }, "correct_answer": "2", "explanation": "تنص القاعدة على أنه 'لو بيستخدم جهاز غير مخصص لل gaming زي mobile او PC وهيحمل أو هيحدث لعبة من خارج اللعبة نفسها, فالاستهلاك هيتخصم من الباقة الأساسية الجيجا بجيجا'." },
             { "id": 9, "question": "ما هي الميزة الخاصة بالسرعة التي تتيحها باقة 'GAMERZ' للعميل؟", "options": { "1": "تثبيت السرعة عند 30 ميجابت في الثانية لضمان الاستقرار.", "2": "إتاحة سحب أقصى سرعة يتحملها الخط عند الحاجة في الألعاب.", "3": "مضاعفة سرعة الرفع (Upload speed).", "4": "تحديد سرعة الألعاب فقط دون التأثير على باقي الاستخدامات." }, "correct_answer": "2", "explanation": " تذكر أن 'باقة GAMERZ هاتتيح ان الخط يسحب أقصى سرعة يتحملها لو العميل محتاج ده في ال gaming'." },
             { "id": 10, "question": "كيف يظهر استهلاك باقة 'GAMERZ' للعميل على التطبيق أو الموقع؟", "options": { "1": "تظهر باقة واحدة مدمجة بسعة 375 جيجا.", "2": "تظهر باقة الألعاب 125 جيجا منفصلة عن الباقة الأساسية 250 جيجا.", "3": "تظهر الباقة الأساسية فقط.", "4": "تظهر باقة الألعاب بسعة 250 جيجا والباقة الأساسية 250 جيجا." }, "correct_answer": "2", "explanation": "توضح وشرحها أن العميل يرى الباقتين منفصلتين: 'هيظهر مع العميل ال 250 جيجا الاساسيه و ال 125 جيجا لل gaming'." },
             { "id": 11, "question": "أي من الخدمات التالية لا تتأثر بخاصية 'الاستخدام العادل' (Fair Usage Policy)؟", "options": { "1": "باقات WE Space", "2": "التصفح لمواقع التواصل الاجتماعي", "3": "الخط الأرضي (Fixed Voice)", "4": "باقات الإنترنت الإضافية" }, "correct_answer": "3", "explanation": "خاصية الاستخدام العادل تطبق على خدمات الإنترنت لضمان جودة الخدمة لجميع المستخدمين، ولا تنطبق على خدمة المكالمات الصوتية للخط الأرضي." },
             { "id": 12, "question": "ماذا يحدث عند انتهاء باقة الإنترنت الأساسية قبل موعد التجديد؟", "options": { "1": "يتم تجديد الباقة تلقائياً فوراً.", "2": "تتوقف الخدمة تماماً حتى موعد التجديد.", "3": "تنخفض سرعة الإنترنت إلى سرعة منخفضة محددة.", "4": "يتم تحويل العميل إلى نظام الدفع حسب الاستخدام." }, "correct_answer": "3", "explanation": "تنص سياسة معظم باقات الإنترنت على أنه بعد استهلاك السعة الأساسية، لا تتوقف الخدمة ولكن تنخفض السرعة بشكل كبير (غالباً إلى 256 كيلوبت/ثانية) حتى موعد التجديد التالي." },
             { "id": 13, "question": "ما هو الشرط الذي يجب توافره في الخط حتى يتمكن العميل من الاشتراك في باقة 'Nitro' الإضافية؟", "options": { "1": "أن يكون الخط مشتركاً في باقة بسرعة 100 ميجا على الأقل.", "2": "أن تكون الباقة الأساسية للإنترنت نشطة وغير منتهية.", "3": "أن يكون الخط من نوع الألياف البصرية (Fiber).", "4": "أن يكون قد مر على اشتراك العميل عام كامل." }, "correct_answer": "2", "explanation": "لا يمكن إضافة أي باقات سعة إضافية أو تعزيزية إلا إذا كانت الباقة الأساسية للعميل ما زالت سارية ونشطة." },
             { "id": 14, "question": "عندما يقوم العميل بتجديد اشتراكه مبكراً، متى يبدأ تاريخ صلاحية الباقة الجديدة؟", "options": { "1": "يبدأ من تاريخ التجديد المبكر مباشرة.", "2": "يبدأ بعد 24 ساعة من عملية التجديد.", "3": "يبدأ في الموعد الأصلي لتجديد الباقة القديمة.", "4": "يبدأ في أول يوم من الشهر التالي." }, "correct_answer": "1", "explanation": "التجديد المبكر يعني بدء دورة فوترة جديدة فوراً، حيث يتم إضافة السعة الجديدة وتحديد تاريخ الصلاحية لمدة 30 يوماً من تاريخ التجديد." },
             { "id": 15, "question": "ما هو الإجراء الذي يجب على موظف خدمة العملاء اتخاذه أولاً في حال توقف طلب 'تجديد مبكر' للعميل بسبب مشكلة فنية (Abnormal Order)؟", "options": { "1": "رفع شكوى فنية مباشرة.", "2": "التأكد من أن خدمة الهاتف الأرضي (الصوت) تعمل بشكل سليم على الخط.", "3": "الطلب من العميل إعادة تشغيل الراوتر.", "4": "نصح العميل بالانتظار لمدة 24 ساعة." }, "correct_answer": "2", "explanation": "غالباً ما تكون مشاكل طلبات التجديد مرتبطة بملف تعريف الخط نفسه. التأكد من أن الخدمة الصوتية (FV profile) نشطة هو خطوة أولى ضرورية لاستبعاد المشاكل الأساسية قبل تصعيد الأمر." },
             { "id": 46, "question": "ما هو العرض الذي كان متاحاً للعملاء الجدد في عام 2024؟", "options": { "1": "عرض ضعف الباقة.", "2": "عرض الاحتفاظ بالعملاء (Retention).", "3": "عرض Acquisition Promo 2024.", "4": "عرض Vezeeta." }, "correct_answer": "3", "explanation": "عنوان المقال الرئيسي في هو 'Acquisition Promo 2024'، وهو عرض مخصص لجذب العملاء الجدد." },
             { "id": 47, "question": "عندما يسأل عميل عن عروض 'فزيتا' (Vezeeta)، إلى أين يجب توجيه الاستفسار؟", "options": { "1": "إلى قسم العروض الخاصة.", "2": "إلى رابط مقال 'We Space' وتحديداً جزء 'Shamel From Vezeeta'.", "3": "إلى قسم الشكاوى.", "4": "إلى قسم المبيعات المباشرة." }, "correct_answer": "2", "explanation": "في قسم التعليقات، تم الرد على استفسار بخصوص عروض فزيتا برابط مباشر لمقال We Space الذي يحتوي على تفاصيل العرض." },
             { "id": 48, "question": "ما هو الإجراء المتبع بخصوص 'عروض الإلغاء' (Cancellation Promo) التي تُعطى للعميل الذي يرغب في إلغاء اشتراكه؟", "options": { "1": "يتم رفض طلبه وتوجيهه لإنهاء الخدمة.", "2": "يتم تحويله مباشرة إلى قسم الحسابات.", "3": "يتم توجيهه إلى مقالات 'Retention Concession' للحصول على عرض للاحتفاظ به.", "4": "يتم إعطاؤه خصماً ثابتاً بنسبة 10%." }, "correct_answer": "3", "explanation": "ردًا على سؤال حول عروض الإلغاء، تم وضع رابط لمقال 'Retention Concession'، وهي العروض المخصصة للاحتفاظ بالعملاء." },
             { "id": 49, "question": "إذا لم يكن هناك عرض حالي مناسب للعميل، بماذا يجب أن ينصحه الموظف؟", "options": { "1": "بالاتصال مرة أخرى بعد أسبوع.", "2": "بإلغاء الخدمة والعودة لاحقاً.", "3": "بمتابعة الموقع الإلكتروني وصفحات التواصل الاجتماعي الرسمية لمعرفة العروض الجديدة.", "4": "بتقديم طلب خاص لإدارة التسويق." }, "correct_answer": "3", "explanation": "تنص الإجابة النموذجية في قسم التعليقات على توجيه العميل لمتابعة القنوات الرسمية 'لمعرفة العروض الجديدة'." },
             { "id": 50, "question": "ما هو تاريخ آخر تعديل على 'Acquisition Promo 2024'؟", "options": { "1": "26 مايو 2025.", "2": "29 مايو 2025.", "3": "28 أبريل 2025.", "4": "25 مايو 2025." }, "correct_answer": "3", "explanation": null },
             { "id": 51, "question": "ما هو الهدف الرئيسي من عروض 'Retention'؟", "options": { "1": "جذب عملاء جدد للشركة.", "2": "تشجيع العملاء الحاليين على ترقية باقاتهم.", "3": "مكافأة العملاء الأطول بقاءً في الشركة.", "4": "إقناع العملاء الذين ينوون إلغاء اشتراكهم بالبقاء." }, "correct_answer": "4", "explanation": "تُصمم عروض الاحتفاظ (Retention) خصيصاً لتقديمها للعملاء الذين يطلبون إلغاء الخدمة، وذلك كحافز لتشجيعهم على العدول عن قرارهم والاستمرار مع الشركة." },
             { "id": 52, "question": "عندما يستفسر عميل عن عرض ترويجي انتهت صلاحيته، ما هو الرد الأنسب من الموظف؟", "options": { "1": "إمكانية تفعيل العرض له بشكل استثنائي.", "2": "إخباره بأن العرض لم يعد متاحاً ونصحه بمتابعة القنوات الرسمية للعروض الجديدة.", "3": "تسجيل بياناته للاتصال به عند توفر عرض مشابه.", "4": "تحويله إلى قسم التسويق مباشرة." }, "correct_answer": "2", "explanation": "الإجراء الصحيح هو الشفافية مع العميل. يجب إبلاغه بأن العرض قد انتهى وتوجيهه إلى المصادر الرسمية (الموقع الإلكتروني، التطبيق، صفحات التواصل الاجتماعي) ليكون على اطلاع دائم بأحدث العروض المتاحة." },
             { "id": 53, "question": "ماذا يعني مصطلح 'Acquisition Promo' في عالم الاتصالات؟", "options": { "1": "عرض مخصص لعملاء الشركات فقط.", "2": "عرض يهدف إلى جذب مشتركين جدد لم يكونوا عملاء من قبل.", "3": "خصم يتم تطبيقه تلقائياً عند تجديد الاشتراك السنوي.", "4": "عرض يتيح للعملاء تجربة خدمة جديدة مجاناً لفترة محدودة." }, "correct_answer": "2", "explanation": "مصطلح 'Acquisition' يعني 'استحواذ' أو 'اكتساب'، وفي سياق العروض الترويجية، يشير إلى الحملات الموجهة لجذب عملاء جدد إلى شبكة الشركة." },
             { "id": 54, "question": "إذا كان العرض يتضمن 'ضعف الباقة' لمدة 3 أشهر، ماذا يحدث في الشهر الرابع؟", "options": { "1": "يستمر العميل على ضعف الباقة بسعر أعلى.", "2": "يتم تخفيض السرعة إلى النصف.", "3": "تعود الباقة إلى سعتها الأصلية بنفس السعر الأساسي.", "4": "يجب على العميل طلب الاستمرار في العرض يدوياً." }, "correct_answer": "3", "explanation": "العروض المؤقتة تنتهي صلاحيتها تلقائياً. بعد انتهاء فترة العرض (3 أشهر في هذا المثال)، تعود الخدمة إلى حالتها القياسية من حيث السعة والسعر ما لم ينص العرض على خلاف ذلك." },
             { "id": 55, "question": "في حال وجود عرض مرتبط بخدمة إضافية (مثل اشتراك في تطبيق ترفيهي)، من هي الجهة المسؤولة عن حل المشاكل التقنية المتعلقة بالتطبيق نفسه؟", "options": { "1": "قسم الدعم الفني لشركة الاتصالات.", "2": "قسم المبيعات الذي قام بتفعيل العرض.", "3": "فريق الدعم الفني الخاص بالتطبيق الترفيهي.", "4": "العميل مسؤول عن حلها بنفسه." }, "correct_answer": "3", "explanation": "شركة الاتصالات مسؤولة عن تفعيل الاشتراك وتوصيل الخدمة، لكن أي مشاكل تتعلق بأداء التطبيق نفسه (مثل مشاكل تسجيل الدخول، بطء التشغيل، عدم ظهور المحتوى) تكون من اختصاص فريق الدعم الخاص بالشركة المطورة للتطبيق." },
             { "id": 91, "question": "ما هي الأداة الموحدة التي يستخدمها فريق الدعم الفني؟", "options": { "1": "HDM Portal", "2": "CRM", "3": "360 Consolidated system tool", "4": "SharePoint" }, "correct_answer": "3", "explanation": "عنوان المقال في الصفحة الأولى من 'Tech W1_compressed.pdf' هو '360 Consolidated system tool'، ويظهر أنه أداة مستخدمة عبر عدة فرق دعم." },
             { "id": 92, "question": "عند تصعيد شكوى للعميل، ما هي المعلومة الإضافية التي يجب التأكد من الحصول عليها من العميل؟", "options": { "1": "الرقم القومي.", "2": "رقم هاتف محمول ثانوي (Secondary mobile number).", "3": "عنوان البريد الإلكتروني.", "4": "نوع جهاز الراوتر." }, "correct_answer": "2", "explanation": "أول نصيحة هي 'لو هتصعد شكوى للعميل لازم تتأكد اننا اخدنا الـ Secondary mobile number من العميل'." },
             { "id": 93, "question": "، ما هو طراز الراوتر الذي يتم شرح كيفية إخفاء شبكة الواي فاي (SSID) له في التعليقات؟", "options": { "1": "D-link 224", "2": "TP-Link 840", "3": "ZYXEL (VMG3625-T50B)", "4": "Huawei HG630" }, "correct_answer": "3", "explanation": "هناك عدة تعليقات تسأل عن كيفية إخفاء SSID، وتتعلق هذه التعليقات بصفحة راوتر ZYXEL (VMG3625-T50B)." },
             { "id": 94, "question": "، ما هو الإجراء الصحيح عند التعامل مع مشكلة 'Wrong Card and Port' التي تم حلها؟", "options": { "1": "إغلاق التذكرة مباشرة.", "2": "إنشاء تذكرة جديدة للمتابعة.", "3": "استخدام كود إغلاق 'Line stable /no problem found'.", "4": "استخدام كود إغلاق '(38) Stalagmite problem'." }, "correct_answer": "3", "explanation": "الجدول في صفحة 902 من 'Tech W1' يوضح أنه في حالة 'Wrong Card & port' التي لا توجد بها مشكلة الآن، يتم الإنشاء بكود إغلاق (2) 'Line stable /no problem found'." },
             { "id": 95, "question": "ما هي الخطوات المذكورة لعمل 'Reset soft' لجهاز راوتر؟", "options": { "1": "فصل الكهرباء ثم إعادة توصيلها.", "2": "الدخول للإعدادات > System > Reboot.", "3": "الدخول لـ Maintenance > Backup and Restore > Reset.", "4": "الضغط على زر Reset لمدة 30 ثانية." }, "correct_answer": "3", "explanation": "أحد التعليقات يطلب الخطوات ويتم الرد عليه بـ 'steps to make reset soft in cpe steps to make reset soft maintennance ---back up and restore ----- back up and restore ----- reset ------ ok'." },
             { "id": 96, "question": "ماذا يعني مصطلح 'إعادة ضبط المصنع' (Factory Reset) للراوتر؟", "options": { "1": "إعادة تشغيل الراوتر مع الاحتفاظ بالإعدادات.", "2": "مسح جميع الإعدادات المخصصة وإعادة الراوتر إلى حالته الأصلية.", "3": "تحديث برنامج التشغيل (Firmware) للراوتر.", "4": "تغيير كلمة سر الواي فاي فقط." }, "correct_answer": "2", "explanation": "إعادة ضبط المصنع هي عملية جذرية تمحو أي تغييرات قام بها المستخدم (مثل اسم الشبكة، كلمة السر، إعدادات الحماية) وتعيد الجهاز إلى الإعدادات الافتراضية التي جاء بها من المصنع." },
             { "id": 97, "question": "ما هي أول خطوة يجب على المستخدم القيام بها عند مواجهة بطء في سرعة الإنترنت؟", "options": { "1": "تغيير مكان الراوتر.", "2": "إعادة تشغيل جهاز الراوتر والكمبيوتر (أو الهاتف).", "3": "الاتصال بخدمة العملاء فوراً.", "4": "فحص الكابلات وتوصيلاتها." }, "correct_answer": "2", "explanation": "إعادة التشغيل هي أبسط وأسرع خطوة لحل المشاكل المؤقتة، حيث تقوم بتحديث الاتصال ومسح الذاكرة المؤقتة للأجهزة، مما قد يحل مشكلة البطء في كثير من الحالات." },
             { "id": 98, "question": "ما الغرض من إخفاء اسم شبكة الواي فاي (SSID)؟", "options": { "1": "زيادة سرعة الإنترنت.", "2": "منع الراوتر من استقبال التحديثات.", "3": "تقوية إشارة الواي فاي.", "4": "زيادة مستوى الأمان عن طريق جعل الشبكة غير مرئية للعامة." }, "correct_answer": "4", "explanation": "عند إخفاء الـ SSID، لا تظهر الشبكة في قائمة الشبكات المتاحة على الأجهزة. يجب على المستخدم إدخال اسم الشبكة يدوياً للاتصال بها، مما يضيف طبقة حماية إضافية ضد محاولات الاختراق العشوائية." },
             { "id": 99, "question": "عندما تظهر لمبة 'الإنترنت' على الراوتر باللون الأحمر، على ماذا يدل ذلك غالباً؟", "options": { "1": "أن هناك أجهزة كثيرة متصلة بالشبكة.", "2": "أن إشارة الواي فاي ضعيفة.", "3": "وجود مشكلة في الاتصال بالإنترنت من جهة المزود (لا يوجد IP).", "4": "أن الراوتر يحتاج إلى تحديث." }, "correct_answer": "3", "explanation": "اللون الأحمر للمبة الإنترنت يشير عادةً إلى فشل الراوتر في الحصول على عنوان IP صالح من مزود الخدمة، مما يعني وجود مشكلة في الاتصال الخارجي وليس في الشبكة المحلية الداخلية." },
             { "id": 100, "question": "ما هو الفرق الرئيسي بين شبكة Wi-Fi بتردد 2.4 جيجاهرتز وشبكة بتردد 5 جيجاهرتز؟", "options": { "1": "شبكة 5 جيجاهرتز أبطأ ولكنها تغطي مساحة أكبر.", "2": "شبكة 2.4 جيجاهرتز أسرع ولكنها أكثر عرضة للتداخل.", "3": "شبكة 5 جيجاهرتز أسرع وتوفر اتصالاً أكثر استقراراً، لكن مداها أقصر.", "4": "لا يوجد فرق عملي بينهما للمستخدم العادي." }, "correct_answer": "3", "explanation": "تردد 5 جيجاهرتز يوفر قنوات أكثر وسرعات أعلى وتداخلاً أقل من الأجهزة الأخرى (مثل الميكروويف)، لكن إشارته لا تخترق الجدران والعوائق بنفس كفاءة تردد 2.4 جيجاهرتز، مما يجعل مداها أقصر." },
             { "id": 101, "question": "ما هي الوسيلة الأساسية للتحقق من هوية العميل عندما يتصل من خلال تطبيقه الشخصي المسجل (My WE App)؟", "options": { "1": "رقم الهاتف الأرضي.", "2": "الرقم القومي.", "3": "تاريخ ميلاد العميل.", "4": "آخر عملية شحن قام بها." }, "correct_answer": "3", "explanation": "عندما يبدأ العميل الاتصال من داخل بيئة آمنة مثل تطبيقه الخاص، يتم استخدام تاريخ الميلاد كطريقة تحقق سريعة ومبسطة بدلاً من طلب بيانات كاملة." },
             { "id": 102, "question": "إذا قام العميل بالاتصال من تطبيقه الشخصي ولكنه استفسر عن رقم هاتف آخر غير المسجل في التطبيق، فما هو الإجراء الصحيح للتحقق؟", "options": { "1": "يتم استخدام تاريخ الميلاد للتحقق من الرقمين.", "2": "يتم رفض تقديم أي معلومات عن الرقم الآخر.", "3": "يجب اتباع إجراءات التحقق الكاملة الخاصة بالاستعلام عن رقم مختلف.", "4": "يتم إرسال كود تحقق إلى الرقم الآخر." }, "correct_answer": "3", "explanation": "الأمان يتطلب التحقق من ملكية كل خط على حدة. لذلك، عند السؤال عن رقم مختلف، يجب تطبيق سياسة التحقق الكاملة (مثل طلب الرقم القومي واسم العميل) لهذا الرقم تحديداً." },
             { "id": 103, "question": "ما هو شرط الأهلية الرئيسي الذي يجب توافره لدى العميل للاستفادة من خدمة 'سلفني'؟", "options": { "1": "أن يكون لديه اشتراك فعال لمدة عام على الأقل.", "2": "أن يكون الخط في حالة 'إيقاف مؤقت' (Suspended) بسبب انتهاء الباقة.", "3": "أن يكون مشتركاً في أعلى باقة إنترنت.", "4": "أن يكون قد سدد جميع فواتيره مقدماً." }, "correct_answer": "2", "explanation": "خدمة 'سلفني' مصممة كحل طارئ. لذلك، لا تظهر كخيار للعميل إلا عندما تنتهي باقته بالفعل ويدخل الخط في مرحلة التعليق المؤقت للخدمة." },
             { "id": 104, "question": "ماذا يحدث بعد أن يستهلك العميل السعة التي حصل عليها من خدمة 'سلفني'؟", "options": { "1": "يتم تجديد خدمة سلفني تلقائياً مرة أخرى.", "2": "تعود سرعة الإنترنت إلى السرعة المنخفضة (المخنوثة).", "3": "تتوقف الخدمة تماماً حتى يتم الشحن وتجديد الباقة الأساسية.", "4": "يمكنه طلب خدمة سلفني مرة أخرى يدوياً." }, "correct_answer": "2", "explanation": "خدمة سلفني هي حل مؤقت لاستعادة السرعة الكاملة. عند انتهاء سعتها، يعود الخط إلى الحالة التي كان عليها قبل تفعيلها، وهي السرعة المحدودة حتى يتم التجديد." },
             { "id": 105, "question": "عندما يقوم عميل بدفع مبلغ بالخطأ (شحن خاطئ)، ما هي حالة الحساب التي تسمح بتقديم طلب لاسترداد المبلغ؟", "options": { "1": "الحسابات الموقوفة نهائياً (Deactivated).", "2": "الحسابات في فترة السماح.", "3": "الحسابات النشطة (Active) فقط.", "4": "جميع الحسابات بغض النظر عن حالتها." }, "correct_answer": "3", "explanation": "سياسات معالجة الأخطاء المالية تتطلب أن يكون الحساب الذي يتم التعامل معه حساباً فعالاً وقائماً لضمان إمكانية تطبيق التعديلات المالية والمحاسبية بشكل صحيح." },
             { "id": 106, "question": "ما هي المدة الزمنية القياسية (SLA) التي يجب خلالها الرد على استفسار العميل بخصوص متابعة طلب فاتورة إلكترونية؟", "options": { "1": "24 ساعة.", "2": "48 ساعة.", "3": "72 ساعة.", "4": "5 أيام عمل." }, "correct_answer": "2", "explanation": "تم تحديد إطار زمني مدته 48 ساعة كمعيار جودة لضمان معالجة طلبات العملاء المتعلقة بالفواتير الإلكترونية والرد عليها في وقت مناسب." },
             { "id": 107, "question": "إذا حاول العميل الدفع باستخدام Apple Pay وفشلت العملية، ما هي أول نصيحة يجب تقديمها له؟", "options": { "1": "إعادة تشغيل الهاتف.", "2": "التأكد من وجود رصيد كافٍ في البطاقة المرتبطة بالخدمة والتواصل مع البنك.", "3": "حذف التطبيق وإعادة تثبيته.", "4": "محاولة الدفع باستخدام بطاقة ائتمان مختلفة." }, "correct_answer": "2", "explanation": "خدمة Apple Pay هي وسيط دفع. معظم حالات فشل الدفع تكون مرتبطة بالبطاقة نفسها (نقص الرصيد، انتهاء الصلاحية، قيود من البنك المصدر)، لذا يجب التحقق من مصدر الأموال أولاً." },
             { "id": 151, "question": "ماذا يعني الاختصار FTTH في عالم الاتصالات؟", "options": { "1": "إنترنت فائق السرعة عبر الأقمار الصناعية.", "2": "الألياف الضوئية حتى المنزل (Fiber To The Home).", "3": "تقنية دمج خطوط الهاتف لزيادة السرعة.", "4": "شبكة لاسلكية عامة للمناطق المفتوحة." }, "correct_answer": "2", "explanation": "هذا المصطلح يصف البنية التحتية للإنترنت التي تعتمد على توصيل كابلات الألياف الضوئية مباشرة إلى منزل العميل، مما يتيح سرعات واستقراراً أعلى بكثير من الكابلات النحاسية التقليدية." },
             { "id": 152, "question": "عندما يستفسر عميل يسكن في مجمع سكني (Compound) يدعم خدمة FTTH عن كيفية الاشتراك، ما هو الإجراء الأنسب؟", "options": { "1": "إعطاؤه أرقام قسم المبيعات العام.", "2": "تحويل المكالمة إلى الفريق المختص بخدمات FTTH أو توجيهه لنقطة البيع داخل المجمع.", "3": "الطلب منه زيارة أقرب فرع للشركة.", "4": "إبلاغه بأن الاشتراك يتم عبر الإنترنت فقط." }, "correct_answer": "2", "explanation": "المجمعات السكنية التي تدعم FTTH غالبًا ما يكون لها إجراءات اشتراك خاصة أو فرق مبيعات مخصصة. توجيه العميل مباشرة إلى القناة الصحيحة يضمن حصوله على معلومات دقيقة وخدمة أسرع." },
             { "id": 153, "question": "ما هي الميزة الرئيسية لتقنية FTTH مقارنة بتقنية ADSL التقليدية؟", "options": { "1": "أسعارها أقل دائماً.", "2": "لا تحتاج إلى راوتر خاص.", "3": "توفر سرعات أعلى بكثير وتأثر أقل بالمسافة عن السنترال.", "4": "يمكن تركيبها في أي مكان دون الحاجة لبنية تحتية." }, "correct_answer": "3", "explanation": "تعتمد تقنية الألياف الضوئية على الضوء لنقل البيانات، مما يجعلها أقل عرضة لفقدان السرعة مع زيادة المسافة، على عكس تقنية ADSL التي تعتمد على الكابلات النحاسية وتتأثر جودتها بشكل كبير بالبعد عن الكبينة أو السنترال." },
             { "id": 154, "question": "إذا كان العميل يرغب في الانتقال من مزود خدمة آخر إلى WE على نفس بنية FTTH التحتية، ماذا تسمى هذه العملية؟", "options": { "1": "اشتراك جديد (New Subscription).", "2": "تحويل (Migration).", "3": "ترقية (Upgrade).", "4": "إعادة تفعيل (Reactivation)." }, "correct_answer": "2", "explanation": "مصطلح 'Migration' أو التحويل يستخدم لوصف عملية نقل خدمة العميل من شركة إلى أخرى مع البقاء على نفس التكنولوجيا أو البنية التحتية القائمة." },
             { "id": 155, "question": "لماذا قد لا تكون خدمة FTTH متاحة في جميع المناطق؟", "options": { "1": "لأنها تتطلب موافقة أمنية خاصة.", "2": "لأنها باهظة الثمن بالنسبة لجميع العملاء.", "3": "لأنها تتطلب بنية تحتية خاصة (تمديد كابلات الألياف الضوئية) قد لا تكون متوفرة في كل مكان.", "4": "لأنها مخصصة للشركات والمؤسسات فقط." }, "correct_answer": "3", "explanation": "توفير خدمة FTTH يعتمد بشكل كامل على وجود شبكة أرضية من كابلات الألياف الضوئية. عملية إنشاء وتمديد هذه الشبكة مكلفة وتستغرق وقتاً، لذا يتم نشرها على مراحل في المدن والأحياء المختلفة." },
             { "id": 181, "question": "ما هي المدة الزمنية المحددة (SLA) للرد على طلب متابعة الفاتورة الإلكترونية ؟", "options": { "1": "24 ساعة", "2": "48 ساعة", "3": "72 ساعة", "4": "أسبوع عمل" }, "correct_answer": "2", "explanation": "في قسم التعليقات، تم الرد على سؤال بخصوص الـ SLA بـ 'SLA is 48 H as mentioned in first work group SLA'." },
             { "id": 182, "question": " ، إذا اتصل العميل من تطبيقه الخاص (My WE App)، كيف يتم التحقق من هويته؟", "options": { "1": "من خلال آخر 4 أرقام من الرقم القومي.", "2": "من خلال تاريخ الميلاد.", "3": "من خلال رقم الموبايل المسجل.", "4": "لا يتطلب تحقق." }, "correct_answer": "2", "explanation": "التعليقات توضح 'If cst contact us from his own (App /E-care) will verify through Birth date'." },
             { "id": 183, "question": "إذا سأل العميل عن رقم مختلف عن الرقم الذي يتصل منه، ما هو إجراء التحقق المتبع؟", "options": { "1": "التحقق بتاريخ الميلاد فقط.", "2": "اتباع إجراءات التحقق الخاصة برقم مختلف.", "3": "رفض الإجابة على الاستفسار.", "4": "طلب الاتصال من الرقم الآخر." }, "correct_answer": "2", "explanation": "نفس التعليق يضيف 'incase of asking about different number will follow different number verification'." },
             { "id": 184, "question": "، كيف يمكن للعميل تفعيل خدمة 'سلفني' من خلال تطبيق 'My WE'؟", "options": { "1": "عن طريق إرسال رسالة نصية لرقم معين.", "2": "الخدمة تفعل تلقائياً عند انتهاء الباقة.", "3": "بمجرد أن يصبح الخط 'suspended'، تظهر له رسالة الخدمة في التطبيق ويضغط على 'subscribe'.", "4": "عن طريق قائمة الخدمات الإضافية في التطبيق." }, "correct_answer": "3", "explanation": "الرد على استفسار حول طريقة الإضافة من التطبيق كان 'بمجرد م يكون خط العميل suspended هيظهر ليه MSG خدمه Salfny وبعد كدا هيضغط على subscribe'." },
             { "id": 185, "question": "هل يمكن إضافة خدمة 'سلفني' لخط في مرحلة 'suspended lifecycle'؟", "options": { "1": "نعم، يمكن إضافتها في أي وقت.", "2": "لا، لا يمكن.", "3": "نعم، ولكن برسوم إضافية.", "4": "نعم، إذا كان العميل من عملاء VIP." }, "correct_answer": "2", "explanation": "تم الرد بشكل قاطع بـ 'no' على سؤال '?IF the line is suspended lifecycle can i add salfny for him /her'." },
             { "id": 201, "question": "ما هو الإجراء المتبع عند انقطاع المكالمة مع العميل أثناء تقديم طلب أو شكوى؟", "options": { "1": "انتظار العميل حتى يتصل مرة أخرى.", "2": "إلغاء الطلب الذي كان يتم إنشاؤه.", "3": "اتباع عملية 'إعادة الاتصال بالعميل' (Call Back Process) ومحاولة التواصل معه.", "4": "إرسال رسالة نصية للعميل تطلب منه إعادة الاتصال." }, "correct_answer": "3", "explanation": "من أساسيات خدمة العملاء الجيدة هو استكمال الخدمة التي بدأها العميل. لذلك، توجد إجراءات محددة لإعادة الاتصال بالعميل في حالة انقطاع المكالمة لاستكمال طلبه أو حل مشكلته." },
             { "id": 202, "question": "عند تصعيد شكوى فنية للعميل، ما هي المعلومة الإضافية التي من الضروري الحصول عليها لضمان سهولة تواصل الفريق الفني معه؟", "options": { "1": "عنوان البريد الإلكتروني للعميل.", "2": "اسم أقرب فرع للعميل.", "3": "رقم هاتف محمول بديل أو ثانوي (Secondary Mobile Number).", "4": "نوع جهاز الكمبيوتر الذي يستخدمه العميل." }, "correct_answer": "3", "explanation": "قد يكون الهاتف الأساسي للعميل مغلقاً أو غير متاح. الحصول على رقم بديل يزيد من فرص نجاح الفريق الفني في الوصول إلى العميل بسرعة عند الحاجة لزيارة فنية أو متابعة." },
             { "id": 203, "question": "ماذا يعني مصطلح 'WO Request' في سياق متابعة التركيبات؟", "options": { "1": "طلب إلغاء الخدمة (Withdrawal Order).", "2": "أمر عمل أو طلب زيارة فنية (Work Order).", "3": "طلب تعويض للعميل (Waive Off).", "4": "طلب تقرير عن جودة الخدمة (Watchdog Order)." }, "correct_answer": "2", "explanation": "'Work Order' هو مصطلح قياسي يستخدم في أنظمة CRM للإشارة إلى مهمة أو طلب يتم إسناده لفريق ميداني (مثل الفنيين) للقيام بإجراء معين، مثل تركيب خدمة جديدة أو إصلاح عطل." },
             { "id": 204, "question": "إذا تأخر الفني عن الموعد المحدد للتركيب، ما هو الإجراء الأولي الذي يجب على خدمة العملاء اتخاذه؟", "options": { "1": "إلغاء الطلب فوراً.", "2": "إنشاء طلب زيارة فنية (Work Order) لمتابعة سبب التأخير مع القسم المختص.", "3": "الطلب من العميل الانتظار لمدة 48 ساعة إضافية.", "4": "تقديم تعويض فوري للعميل." }, "correct_answer": "2", "explanation": "الإجراء الصحيح هو استخدام الأدوات المتاحة (مثل نظام CRM) لتصعيد المشكلة داخلياً وتوثيقها، وذلك لمعرفة سبب التأخير ومحاولة حل المشكلة وتحديد موعد جديد للعميل." },
             { "id": 205, "question": "ما هو الغرض من نظام إدارة علاقات العملاء (CRM) في شركة اتصالات؟", "options": { "1": "إصدار الفواتير للعملاء فقط.", "2": "مراقبة أداء الموظفين فقط.", "3": "تسجيل وتتبع جميع تفاعلات العملاء وطلباتهم وشكواهم في مكان واحد مركزي.", "4": "إدارة الموقع الإلكتروني للشركة." }, "correct_answer": "3", "explanation": "الهدف الأساسي من نظام CRM هو توفير رؤية شاملة وموحدة لكل عميل، مما يمكّن جميع الأقسام (مبيعات، دعم فني، خدمة عملاء) من خدمته بشكل أفضل بناءً على تاريخه الكامل مع الشركة." },
             { "id": 206, "question": "عندما يتم حل مشكلة فنية تتعلق بـ 'خطأ في الكارت والمنفذ' (Wrong Card & Port) ويتأكد الفني من استقرار الخط، ما هو كود الإغلاق الصحيح الذي يجب استخدامه للشكوى؟", "options": { "1": "(38) مشكلة Stalagmite", "2": "(30) العميل غير متاح", "3": "(2) الخط مستقر / لا توجد مشكلة", "4": "(5) مشكلة في جهاز العميل" }, "correct_answer": "3", "explanation": "طالما تم حل المشكلة الأساسية وأصبح الخط يعمل بشكل طبيعي، فإن كود الإغلاق المناسب هو الذي يعكس الحالة الحالية للخدمة، وهو أن الخط مستقر ولا توجد به مشكلة." },
             { "id": 207, "question": "إذا طلب الفني إغلاق الشكوى لأن العميل لم يكن متاحاً في الموعد المتفق عليه، فما هو كود الإغلاق المناسب لهذه الحالة؟", "options": { "1": "(2) الخط مستقر / لا توجد مشكلة", "2": "(38) مشكلة Stalagmite", "3": "(30) غير متاح بناءً على طلب العميل", "4": "(1) تم حل المشكلة" }, "correct_answer": "3", "explanation": "يتم استخدام هذا الكود تحديداً لتوثيق الحالات التي لم يتمكن فيها الفريق الفني من إتمام المهمة بسبب عدم تمكنهم من الوصول إلى العميل، مما يفرقها عن الحالات التي يتم فيها حل المشكلة فنياً." },
             { "id": 208, "question": "في عملية متابعة التركيبات، إذا كان الطلب في حالة 'معلق' (Pending)، ما هي أول خطوة يجب على الموظف القيام بها عند متابعة حالة العميل؟", "options": { "1": "إلغاء الطلب وإنشاء طلب جديد.", "2": "التحقق من النظام لمعرفة سبب التعليق وتاريخ التحديث المتوقع.", "3": "الطلب من العميل زيارة الفرع.", "4": "نصح العميل بالانتظار دون تحديد مدة." }, "correct_answer": "2", "explanation": "قبل اتخاذ أي إجراء، من الضروري مراجعة البيانات المتاحة في نظام المتابعة لفهم سبب التأخير، فقد يكون هناك سبب فني أو إداري موثق بالفعل، مما يساعد في إعطاء العميل إجابة دقيقة." },
             { "id": 209, "question": "ما هو الغرض من إجراء 'مكالمة ما بعد التركيب' (CSI Outbound call)؟", "options": { "1": "بيع خدمات إضافية للعميل.", "2": "التأكد من رضا العميل عن عملية التركيب وجودة الخدمة الأولية.", "3": "تحصيل رسوم التركيب من العميل.", "4": "تحديث بيانات العميل الشخصية." }, "correct_answer": "2", "explanation": "هذه المكالمة هي جزء من عملية ضمان الجودة، وتهدف إلى قياس تجربة العميل (Customer Satisfaction Index - CSI) والتأكد من أن الخدمة تم تركيبها وتعمل بشكل سليم وحل أي مشاكل أولية قد تواجهه." },
             { "id": 210, "question": "إذا اشتكى العميل من عدم تركيب الخدمة بعد مرور الموعد المحدد بوقت طويل، وتم التأكد من وجود مشكلة تتطلب التصعيد، فما هو الإجراء الصحيح؟", "options": { "1": "الطلب من العميل تقديم شكوى مكتوبة.", "2": "إعطاء العميل رقم قسم الشكاوى.", "3": "إنشاء طلب خدمة (SR) أو تذكرة تصعيد من خلال النظام لتتبع المشكلة مع الأقسام المسؤولة.", "4": "وعد العميل بحل المشكلة دون اتخاذ إجراء مسجل." }, "correct_answer": "3", "explanation": "الإجراء الرسمي يضمن توثيق المشكلة وتعيينها للجهة المسؤولة ومتابعتها حتى الحل. الاعتماد على الوعود الشفهية غير فعال ولا يضمن حل المشكلة." },
             { "id": 251, "question": "أي من الإجراءات التالية يعتبر من مسؤولية العميل للحفاظ على أمان شبكة الواي فاي الخاصة به؟", "options": { "1": "زيادة سرعة باقة الإنترنت.", "2": "تغيير كلمة سر الواي فاي بشكل دوري واستخدام كلمة سر قوية.", "3": "إعادة تشغيل الراوتر يومياً.", "4": "توصيل الراوتر بمثبت تيار كهربائي." }, "correct_answer": "2", "explanation": "كلمة السر هي خط الدفاع الأول ضد الوصول غير المصرح به إلى الشبكة. استخدام كلمة سر قوية (مزيج من الحروف والأرقام والرموز) وتغييرها بانتظام هو أهم خطوة أمنية يمكن للمستخدم اتخاذها." },
             { "id": 252, "question": "عندما يدفع العميل فاتورته عبر تطبيق المحفظة الإلكترونية الخاص به، في حساب من يتم إيداع المبلغ؟", "options": { "1": "في حساب شركة الاتصالات مباشرة.", "2": "في حساب المحفظة الإلكترونية للعميل.", "3": "في حساب وسيط الدفع (Aggregator) الذي يقوم بتحويله لاحقاً.", "4": "في حساب البنك المركزي." }, "correct_answer": "3", "explanation": "تعمل خدمات الدفع الإلكتروني عبر طرف ثالث (وسيط) يقوم بمعالجة المعاملة بين العميل والشركة المقدمة للخدمة، ويضمن تحويل الأموال بشكل آمن." },
             { "id": 253, "question": "ما هو الفرق الجوهري بين 'إعادة التشغيل' (Reboot) و'إعادة ضبط المصنع' (Reset) للراوتر؟", "options": { "1": "لا يوجد فرق، كلاهما يؤدي نفس الوظيفة.", "2": "إعادة التشغيل سريعة، بينما إعادة ضبط المصنع بطيئة.", "3": "إعادة التشغيل تحافظ على الإعدادات، بينما إعادة ضبط المصنع تمسحها بالكامل.", "4": "إعادة التشغيل تصلح مشاكل السرعة، بينما إعادة الضبط تصلح مشاكل الاتصال." }, "correct_answer": "3", "explanation": "إعادة التشغيل (Reboot/Restart) هي مثل إطفاء الجهاز وتشغيله مرة أخرى ولا تؤثر على الإعدادات المحفوظة. أما إعادة ضبط المصنع (Reset) فهي عملية تعيد الجهاز إلى حالته الأصلية وتمحو كل الإعدادات الشخصية." },
             { "id": 254, "question": "ما هي الطريقة الصحيحة التي يجب أن يوضح بها الموظف سعة باقة 'GAMERZ' للعميل؟", "options": { "1": "أن الباقة بسعة 375 جيجا للاستخدام العام.", "2": "أن الباقة بسعة 125 جيجا فقط.", "3": "أن الباقة تتكون من 250 جيجا أساسية بالإضافة إلى 125 جيجا مخصصة للألعاب تُحسب بشكل مختلف لتعطي استخداماً يعادل 250 جيجا.", "4": "أن الباقة بسعة 250 جيجا وتتحول إلى باقة ألعاب تلقائياً." }, "correct_answer": "3", "explanation": "الشفافية والوضوح هما الأهم. يجب شرح مكونات الباقة بدقة: جزء أساسي للاستخدام العام، وجزء مخصص للألعاب له طريقة حساب خاصة (الجيجا بنصف جيجا) لتعظيم الفائدة منه في الألعاب." },
             { "id": 255, "question": "إذا استفسر العميل عن عرض ترويجي لا يعرف عنه الموظف شيئاً، ما هو التصرف السليم؟", "options": { "1": "إخبار العميل بأن هذا العرض غير موجود.", "2": "الطلب من العميل شرح تفاصيل العرض بالكامل.", "3": "البحث في قاعدة المعرفة الداخلية أو سؤال مشرف الفريق للحصول على المعلومة الصحيحة قبل الرد.", "4": "تحويل المكالمة عشوائياً إلى قسم آخر." }, "correct_answer": "3", "explanation": "التصرف المهني يقتضي عدم إعطاء معلومات غير مؤكدة. يجب على الموظف استخدام الموارد المتاحة له للتحقق من المعلومة بدقة لضمان تقديم إجابة صحيحة وموثوقة للعميل." },
             { "id": 256, "question": "ما هو سبب أهمية توثيق كل مكالمة وكل إجراء يتم مع العميل في نظام CRM؟", "options": { "1": "هو إجراء روتيني غير مهم.", "2": "لضمان حصول الموظف على عمولته.", "3": "لتوفير سجل تاريخي كامل للعميل يمكن لجميع الموظفين الرجوع إليه لتقديم خدمة متكاملة ومتسقة.", "4": "لإرسال تقرير يومي للإدارة العليا." }, "correct_answer": "3", "explanation": "التوثيق الدقيق يضمن أنه إذا تواصل العميل مرة أخرى، يمكن لأي موظف آخر أن يفهم تاريخه ومشاكله السابقة والحلول التي تم تقديمها، مما يوفر تجربة أفضل للعميل ويمنع تكرار طرح نفس الأسئلة." },
             { "id": 257, "question": "ما هي أهمية الحصول على رقم هاتف ثانوي من العميل عند إنشاء شكوى فنية؟", "options": { "1": "لإرسال رسائل العروض الجديدة عليه.", "2": "لاستخدامه في تحديث بيانات الحساب.", "3": "لضمان سهولة وصول الفريق الفني إلى العميل في حال كان رقمه الأساسي مغلقًا.", "4": "هو إجراء غير ضروري." }, "correct_answer": "3", "explanation": "يعتبر الحصول على رقم ثانوي إجراءً احترازياً مهماً لضمان عدم تأخر حل الشكوى بسبب صعوبة التواصل مع العميل، خاصة في الحالات التي تتطلب زيارة فنية." },
             { "id": 258, "question": "ماذا يجب على الموظف فعله إذا توقف طلب تجديد باقة مبكر قدمه العميل عبر التطبيق (أصبح في حالة Abnormal)؟", "options": { "1": "إلغاء الطلب فورًا.", "2": "التأكد أولًا من أن خدمة الخط الأرضي الصوتي (Fixed Voice) نشطة على النظام.", "3": "الطلب من العميل إعادة تقديم الطلب مرة أخرى.", "4": "تصعيد شكوى فنية مباشرة." }, "correct_answer": "2", "explanation": "قبل تصعيد المشكلة، يجب استبعاد الأسباب الشائعة. غالبًا ما تكون مشاكل تفعيل الخدمات مرتبطة بملف تعريف الخط نفسه، والتأكد من نشاط الخدمة الصوتية هو أول خطوة تشخيصية أساسية." },
             { "id": 259, "question": "في باقة مخصصة للألعاب (GAMERZ)، إذا قام المستخدم بتحميل تحديث للعبة من متجر التطبيقات على هاتفه المحمول، من أي رصيد يتم خصم هذا الاستهلاك؟", "options": { "1": "من رصيد الألعاب المخصص.", "2": "من رصيد الباقة الأساسية.", "3": "يتم تقسيمه بين الرصيدين.", "4": "لا يتم خصمه." }, "correct_answer": "2", "explanation": "رصيد الألعاب مخصص للاستهلاك الذي يحدث داخل اللعبة نفسها (In-game data). أما عمليات التحميل والتحديث التي تتم عبر المتاجر أو من خارج اللعبة، فتُعتبر استخدامًا عامًا للإنترنت ويُخصم من الباقة الأساسية." },
             { "id": 260, "question": "ما هو الإجراء الصحيح عند التعامل مع عميل يرغب في الإلغاء ويبدي استعداده للبقاء إذا حصل على عرض أفضل؟", "options": { "1": "إبلاغه بعدم وجود عروض وإتمام عملية الإلغاء.", "2": "تحويله مباشرة إلى قسم الفواتير.", "3": "مراجعة العروض المتاحة للاحتفاظ بالعملاء (Retention Offers) وتقديم المناسب له.", "4": "الطلب منه الاتصال في وقت لاحق." }, "correct_answer": "3", "explanation": "الاحتفاظ بالعملاء الحاليين هو أولوية. لذلك، توجد سياسات وعروض مخصصة لمثل هذه الحالات، ويجب على الموظف استخدامها لمحاولة إقناع العميل بالبقاء." },
             { "id": 261, "question": "عندما يقوم العميل بالدفع عن طريق ماكينة دفع إلكتروني خارجية (مثل فوري أو أمان)، وتأخر ظهور المبلغ في حسابه، من هي الجهة التي يجب متابعة المشكلة معها؟", "options": { "1": "البنك الخاص بالعميل.", "2": "شركة الاتصالات فقط.", "3": "الشركة المسؤولة عن ماكينة الدفع (مقدم الخدمة الوسيط).", "4": "العميل مسؤول عن حل المشكلة بنفسه." }, "correct_answer": "3", "explanation": "في هذه الحالة، تكون شركة الاتصالات هي الطرف المستقبِل للأموال، بينما شركة الدفع الإلكتروني هي المسؤولة عن تنفيذ عملية التحويل. لذلك، تبدأ المتابعة مع الوسيط للتأكد من حالة المعاملة من طرفهم." },
             { "id": 262, "question": "أي من أنواع الحسابات التالية لا يمكن إضافة خدمة 'سلفني' الطارئة لها؟", "options": { "1": "الحسابات الجديدة.", "2": "الحسابات التي في مرحلة الإيقاف النهائي (Suspended Lifecycle / Deactivated).", "3": "الحسابات التي عليها فواتير غير مدفوعة.", "4": "حسابات الشركات." }, "correct_answer": "2", "explanation": "خدمة 'سلفني' مخصصة للخطوط الموقوفة مؤقتًا بسبب انتهاء الباقة. أما الخطوط التي دخلت مرحلة الإيقاف لعدم السداد لفترة طويلة، فتكون غير مؤهلة لمثل هذه الخدمات الطارئة." },
             { "id": 263, "question": "كيف يمكن للمستخدم تنفيذ 'إعادة ضبط ناعمة' (Soft Reset) للراوتر من خلال صفحة الإعدادات؟", "options": { "1": "عن طريق فصل كابل الطاقة.", "2": "بالضغط على زر Reset في ظهر الجهاز.", "3": "بالدخول إلى قائمة الصيانة (Maintenance) واختيار إعادة التشغيل (Reboot).", "4": "بحذف شبكة الواي فاي وإعادة إضافتها." }, "correct_answer": "3", "explanation": "'إعادة الضبط الناعمة' أو إعادة التشغيل من داخل إعدادات الراوتر هي طريقة لإعادة إقلاع نظام تشغيل الجهاز دون مسح الإعدادات، وغالبًا ما توجد في قسم الصيانة أو إدارة النظام." },
             { "id": 264, "question": "إذا استفسر عميل يسكن في 'كومبوند القطامية هيلز' عن التحويل إلى خدمة الألياف البصرية (FTTH)، ما هو الإجراء الأنسب الذي يجب على الموظف اتخاذه؟", "options": { "1": "إنشاء طلب اشتراك جديد عادي.", "2": "تحويل المكالمة إلى فريق مبيعات FTTH المختص أو توجيهه لنقطة البيع داخل الكومبوند.", "3": "إبلاغه بأن الخدمة غير متوفرة.", "4": "نصحه بشراء راوتر جديد أولًا." }, "correct_answer": "2", "explanation": "غالبًا ما يكون للمجمعات السكنية الكبرى إجراءات خاصة أو فرق مبيعات مكرسة لخدمات FTTH. التوجيه الصحيح يضمن للعميل الحصول على خدمة سريعة ومعلومات دقيقة عن الباقات والأسعار الخاصة بمنطقته." },
             { "id": 265, "question": "ماذا يشمل المبلغ الذي يظهر للعميل في الرسالة النصية الخاصة بتجديد الاشتراك؟", "options": { "1": "قيمة الباقة الأساسية فقط.", "2": "قيمة الباقة الأساسية مضافًا إليها ضريبة القيمة المضافة.", "3": "قيمة الباقة الأساسية والباقات الإضافية.", "4": "قيمة الباقة الأساسية ورسوم إدارية فقط." }, "correct_answer": "2", "explanation": "لضمان الشفافية، يتم إبلاغ العميل بالمبلغ النهائي المطلوب منه للشحن، والذي يشمل سعر الباقة الأساسية بالإضافة إلى الضرائب المستحقة عليها." },
             { "id": 266, "question": "إذا انقطعت المكالمة أثناء قيام الموظف بجمع بيانات من العميل لعملية التحقق، ما هو الإجراء الصحيح؟", "options": { "1": "اعتبار أن التحقق قد فشل.", "2": "محاولة إعادة الاتصال بالعميل لاستكمال الإجراءات.", "3": "انتظار العميل ليعاود الاتصال.", "4": "تجاهل المكالمة." }, "correct_answer": "2", "explanation": "تنص سياسات خدمة العملاء على ضرورة محاولة إعادة الاتصال بالعميل في حالة انقطاع المكالمة، خاصة أثناء إجراءات مهمة مثل التحقق أو تقديم الطلبات، لضمان استمرارية الخدمة." },
             { "id": 267, "question": "ما هي باقة الإنترنت القديمة التي كانت متاحة للتجديد فقط للعملاء المشتركين فيها بالفعل، ولا يمكن للعملاء الجدد الاشتراك بها؟", "options": { "1": "WE Space", "2": "Super Kicks", "3": "Indigo Plus", "4": "Nitro" }, "correct_answer": "3", "explanation": "تقوم الشركات أحيانًا بإيقاف باقات معينة للعملاء الجدد مع السماح للمشتركين الحاليين بالاستمرار في تجديدها. باقة 'Indigo Plus' هي مثال على هذا النوع من الباقات القديمة." },
             { "id": 268, "question": "ما هي الميزة الخاصة التي توفرها باقات الألعاب (GAMERZ) فيما يتعلق بسرعة الخط؟", "options": { "1": "تضمن سرعة ثابتة لا تتغير أبدًا.", "2": "تسمح بسحب أقصى سرعة يتحملها الخط أثناء اللعب عند الحاجة.", "3": "تضاعف سرعة التحميل (Download) فقط.", "4": "تخفض سرعة التصفح لزيادة سرعة الألعاب." }, "correct_answer": "2", "explanation": "بعض الألعاب تتطلب نطاقًا تردديًا عاليًا جدًا للعمل بكفاءة. هذه الميزة تضمن أن العميل يمكنه الاستفادة من كامل إمكانيات خطه المادية أثناء اللعب لتحقيق أفضل أداء." },
             { "id": 269, "question": "عند إغلاق شكوى فنية تم حلها، أي من الأكواد التالية يستخدم للدلالة على وجود مشكلة في الرايزر أو الكبينة وتم حلها؟", "options": { "1": "(2) الخط مستقر", "2": "(38) مشكلة Stalagmite / Raisers", "3": "(30) العميل غير متاح", "4": "(5) مشكلة في جهاز العميل" }, "correct_answer": "2", "explanation": "يتم استخدام هذا الكود المتخصص لتصنيف وحصر المشاكل التي تتعلق بالبنية التحتية في الكبائن (Stalagmite أو Raiser) بدقة، مما يساعد في التحليل الفني لاحقًا." },
             { "id": 270, "question": "إذا اتصل العميل من تطبيقه (My WE App) وسأل عن باقات الإنترنت، ما هي وسيلة التحقق من هويته؟", "options": { "1": "آخر 4 أرقام من الرقم القومي.", "2": "تاريخ ميلاده.", "3": "رقم العقد.", "4": "لا يتطلب تحققًا." }, "correct_answer": "2", "explanation": "الاتصال من داخل التطبيق يعتبر قناة آمنة وموثقة جزئيًا، لذلك يتم استخدام إجراء تحقق مبسط مثل تاريخ الميلاد لتسهيل الخدمة على العميل." },
             { "id": 271, "question": "ما هو الغرض من الأداة الموحدة للدعم الفني (360 Consolidated system tool)؟", "options": { "1": "تتبع مواقع الفنيين على الخريطة.", "2": "توفير واجهة واحدة للموظف تحتوي على جميع الأدوات والمعلومات اللازمة لتشخيص وحل مشاكل العميل.", "3": "إصدار فواتير العملاء إلكترونيًا.", "4": "نظام لإدارة الحضور والانصراف للموظفين." }, "correct_answer": "2", "explanation": "تهدف هذه الأداة إلى زيادة كفاءة موظف الدعم الفني عن طريق دمج الأنظمة المختلفة في شاشة واحدة، مما يقلل الوقت المستغرق في التنقل بين التطبيقات ويسرّع من حل المشكلة." },
             { "id": 272, "question": "إذا أراد العميل إخفاء شبكة الواي فاي (SSID) على راوتر من نوع ZYXEL، ففي أي قسم من إعدادات الراوتر سيجد هذا الخيار غالبًا؟", "options": { "1": "قسم الصيانة (Maintenance).", "2": "قسم إعدادات الشبكة (Network Setting).", "3": "قسم الأمان (Security).", "4": "قسم التشخيص (Diagnostics)." }, "correct_answer": "2", "explanation": "إعدادات اسم الشبكة (SSID) والبث الخاص بها هي جزء أساسي من تكوين الشبكة اللاسلكية، وعادةً ما تكون ضمن قسم إعدادات الشبكة أو إعدادات الواي فاي." },
             { "id": 273, "question": "ماذا يعني أن تكون باقة الإنترنت في حالة 'Renew only'؟", "options": { "1": "أنه لا يمكن تجديدها إلا في يوم محدد من الشهر.", "2": "أنه يمكن للعملاء الحاليين المشتركين فيها تجديدها، ولكن لا يمكن للعملاء الجدد الاشتراك بها.", "3": "أنها باقة تتجدد تلقائيًا ولا يمكن إيقافها.", "4": "أنه لا يمكن إضافة أي باقات إضافية عليها." }, "correct_answer": "2", "explanation": "هذا الإجراء يستخدم لإيقاف الباقات القديمة تدريجيًا مع الحفاظ على العملاء الحاليين، حيث يتم منع الاشتراكات الجديدة فيها مع السماح للمشتركين القدامى بالاستمرار." },
             { "id": 274, "question": "إذا استفسر عميل عن عرض مرتبط بـ 'فيزيتا' (Vezeeta)، ما هو الإجراء الصحيح الذي يجب على الموظف اتباعه؟", "options": { "1": "إبلاغه بأن العرض خاص بالأطباء فقط.", "2": "البحث في قاعدة المعرفة عن تفاصيل العرض وكيفية الاشتراك فيه.", "3": "تحويله إلى قسم التسويق.", "4": "الطلب منه الاتصال بفيزيتا مباشرة." }, "correct_answer": "2", "explanation": "يجب على الموظف أن يكون المصدر الأول للمعلومة الصحيحة. ينبغي عليه استخدام الأدوات المتاحة للبحث عن تفاصيل وشروط العروض المشتركة لتقديم إجابة كاملة ودقيقة للعميل." },
             { "id": 275, "question": "ما هي حالة الباقة الأساسية التي تعد شرطًا ضروريًا ليتمكن العميل من استخدام سعة الباقات الإضافية؟", "options": { "1": "أن تكون على وشك الانتهاء.", "2": "أن تكون قد استُهلك نصفها على الأقل.", "3": "أن تكون نشطة (Active).", "4": "أن تكون قد تم تجديدها يدويًا." }, "correct_answer": "3", "explanation": "لا يمكن للنظام أن يسمح باستهلاك الباقات الإضافية إلا إذا كانت الخدمة الأساسية نفسها فعالة. إذا كانت الباقة الأساسية موقوفة أو منتهية، تتوقف كل الخدمات المرتبطة بها." },
             { "id": 276, "question": "ماذا يعني مصطلح 'Migration' في سياق خدمات FTTH؟", "options": { "1": "ترقية العميل من باقة ADSL إلى FTTH في نفس الشركة.", "2": "انتقال العميل بخدمة FTTH من شركة منافسة إلى شركة أخرى على نفس البنية التحتية.", "3": "تركيب خط FTTH جديد لأول مرة.", "4": "تغيير مكان خط FTTH من منزل إلى آخر." }, "correct_answer": "2", "explanation": "تُستخدم كلمة 'Migration' (الترحيل أو التحويل) لوصف عملية نقل اشتراك قائم بالفعل على بنية تحتية معينة (مثل كبائن FTTH) من مزود خدمة إلى آخر." },
             { "id": 277, "question": "عندما يقوم عميل بدفع مبلغ أكبر من قيمة الفاتورة عن طريق الخطأ، ماذا يسمى هذا الإجراء؟", "options": { "1": "شحن مقدم.", "2": "رصيد دائن أو دفعة مقدمة (Credit Balance).", "3": "تبرع للشركة.", "4": "غرامة تأخير." }, "correct_answer": "2", "explanation": "المبلغ الزائد عن قيمة الفاتورة المستحقة يتم تسجيله في حساب العميل كرصيد دائن، ويتم استخدامه تلقائيًا لتغطية جزء من الفاتورة التالية أو أي رسوم مستقبلية." },
             { "id": 278, "question": "في أي مرحلة من عمر الخط لا يمكن إضافة خدمة 'سلفني' الطارئة لها؟", "options": { "1": "مرحلة الإيقاف المؤقت (Suspended).", "2": "مرحلة النشاط (Active).", "3": "مرحلة الإيقاف النهائي (Suspended Lifecycle / Deactivated).", "4": "فترة السماح بعد انتهاء الباقة." }, "correct_answer": "3", "explanation": "الخطوط التي دخلت مرحلة الإيقاف النهائي تكون قد خرجت من الخدمة الفعلية وتتطلب إجراءات إعادة تفعيل كاملة، ولا تكون مؤهلة للخدمات المؤقتة مثل 'سلفني'." },
             { "id": 279, "question": "إذا طلب العميل الحصول على فاتورة إلكترونية لفترة تتجاوز 90 يومًا، ما هو الإجراء المتبع عادةً؟", "options": { "1": "يتم رفض الطلب تلقائيًا.", "2": "يتم توفيرها فورًا عبر التطبيق.", "3": "يتم إنشاء طلب خاص (SR) لهذه الحالة، وقد يتطلب إجراءات إضافية.", "4": "يجب على العميل زيارة الفرع لاستلامها." }, "correct_answer": "3", "explanation": "الأنظمة عادة ما تحتفظ بالفواتير الحديثة بشكل متاح بسهولة. الوصول إلى الفواتير القديمة جدًا قد يتطلب بحثًا في الأرشيف، لذا يتم التعامل معها كطلب خاص له إجراءاته ومدته الزمنية." },
             { "id": 280, "question": "ما هو الهدف من عملية الـ 'Call Back' للعميل بعد انقطاع المكالمة؟", "options": { "1": "التأكد من أن رقم العميل يعمل.", "2": "استكمال الخدمة التي كان يطلبها العميل وتقديم تجربة خدمة متكاملة.", "3": "عرض منتجات جديدة على العميل.", "4": "تحديث بيانات العميل في النظام." }, "correct_answer": "2", "explanation": "إعادة الاتصال بالعميل هي ممارسة احترافية تهدف إلى تقليل جهد العميل ومنعه من الاضطرار إلى إعادة شرح مشكلته من البداية، مما يعزز رضاه عن الخدمة." },
             { "id": 281, "question": "لأي غرض يتم إنشاء 'Work Order' (أمر عمل)؟", "options": { "1": "لتوثيق محادثة مع العميل.", "2": "لإرسال مهمة لفريق ميداني، مثل فني التركيبات أو الصيانة.", "3": "لتغيير باقة العميل.", "4": "لتسجيل شكوى بخصوص الفاتورة." }, "correct_answer": "2", "explanation": "أمر العمل هو الأداة الرسمية المستخدمة في أنظمة CRM لإسناد ومتابعة المهام التي تتطلب تحركًا فعليًا خارج مركز الاتصال، مثل الزيارات الفنية." },
             { "id": 282, "question": "إذا كان العميل مشتركًا في باقة ألعاب (GAMERZ)، وقام بمشاهدة بث مباشر (Streaming) على منصة مثل Twitch أو YouTube، كيف يتم حساب استهلاكه؟", "options": { "1": "يتم خصمه من باقة الألعاب (الجيجا بنصف جيجا).", "2": "لا يتم خصمه على الإطلاق.", "3": "يتم خصمه من الباقة الأساسية (الجيجا بجيجا).", "4": "يتم خصم نصف الاستهلاك من باقة الألعاب والنصف الآخر من الأساسية." }, "correct_answer": "3", "explanation": "باقات الألعاب مخصصة لاستهلاك بيانات اللعب الفعلي (In-game data). أما مشاهدة البثوث أو تصفح المواقع المتعلقة بالألعاب فيعتبر استخدامًا عامًا للإنترنت ويُخصم من الباقة الأساسية." },
             { "id": 283, "question": "عندما يواجه العميل مشكلة فنية، ما هي أولى خطوات استكشاف الأخطاء وإصلاحها (Troubleshooting) التي يُنصح بها دائمًا؟", "options": { "1": "إعادة ضبط المصنع للراوتر.", "2": "تحديث نظام تشغيل الكمبيوتر.", "3": "إعادة تشغيل الراوتر والأجهزة المتصلة به.", "4": "تغيير كابلات التوصيل." }, "correct_answer": "3", "explanation": "إعادة التشغيل هي خطوة بسيطة لكنها فعالة للغاية في حل العديد من المشاكل المؤقتة المتعلقة بالبرامج أو الاتصال عن طريق مسح الذاكرة المؤقتة وتحديث الاتصال بالشبكة." },
             { "id": 284, "question": "ماذا يعني وجود خطأ 'Wrong Card and Port' في نظام الدعم الفني؟", "options": { "1": "أن بطاقة العميل الائتمانية مرفوضة.", "2": "أن بيانات خط العميل مسجلة على منفذ (Port) مادي خاطئ في الكبينة أو السنترال.", "3": "أن العميل أدخل كلمة سر خاطئة.", "4": "أن كارت الشبكة في جهاز الكمبيوتر معطل." }, "correct_answer": "2", "explanation": "هذا الخطأ فني بحت ويتعلق بالبنية التحتية للشبكة، حيث لا يتطابق المنفذ الفعلي الموصول به خط العميل مع البيانات المسجلة على النظام، مما يسبب انقطاع الخدمة ويتطلب تدخلاً من فني." },
             { "id": 285, "question": "إذا لم يتمكن الموظف من حل مشكلة العميل على الفور، ما هو التصرف الأمثل؟", "options": { "1": "إنهاء المكالمة والطلب من العميل الاتصال لاحقًا.", "2": "تصعيد المشكلة إلى المستوى الأعلى من الدعم الفني أو القسم المختص مع إعطاء العميل رقمًا مرجعيًا للشكوى.", "3": "نصح العميل بالذهاب إلى أقرب فرع.", "4": "تخمين حل وإعطائه للعميل." }, "correct_answer": "2", "explanation": "الاعتراف بحدود المعرفة وتصعيد المشكلة بشكل منظم هو الإجراء الصحيح. إعطاء رقم مرجعي للعميل يطمئنه بأن مشكلته قيد المتابعة ويسهل عليه الاستعلام عنها لاحقًا." },
             { "id": 286, "question": "ما هو الهدف من 'عروض الاستحواذ' (Acquisition Promotions)؟", "options": { "1": "زيادة ولاء العملاء الحاليين.", "2": "تشجيع العملاء على استخدام التطبيق.", "3": "جذب عملاء جدد للاشتراك في الخدمة لأول مرة.", "4": "تقليل عدد العملاء الذين يلغون اشتراكهم." }, "correct_answer": "3", "explanation": "تُصمم هذه العروض خصيصًا لجعل الاشتراك الأولي أكثر جاذبية للمستخدمين الجدد، وذلك من خلال تقديم مزايا مثل أسعار مخفضة أو سعات إضافية لفترة محدودة." },
             { "id": 287, "question": "لماذا لا يُنصح بإعطاء كلمة سر الواي فاي (Wi-Fi Password) لأي شخص؟", "options": { "1": "لأن ذلك يبطئ سرعة الإنترنت.", "2": "لأنه يسمح للآخرين باستهلاك سعة الباقة الخاصة بك وقد يعرض أجهزتك وبياناتك للخطر.", "3": "لأنه قد يتسبب في تلف الراوتر.", "4": "لأنه مخالف لشروط العقد مع الشركة." }, "correct_answer": "2", "explanation": "السماح لأجهزة غير موثوقة بالاتصال بشبكتك لا يستهلك الباقة فقط، بل قد يفتح الباب أمام البرامج الضارة والفيروسات للوصول إلى أجهزتك الشخصية المتصلة بنفس الشبكة." },
             { "id": 288, "question": "إذا قام العميل بتغيير باقته إلى باقة أعلى في منتصف الشهر، كيف يتم حساب الفاتورة عادةً؟", "options": { "1": "يدفع قيمة الباقة الجديدة كاملة بالإضافة إلى القديمة.", "2": "لا يدفع أي شيء حتى الشهر التالي.", "3": "يتم حساب التكلفة بشكل نسبي (Prorated)، حيث يدفع الفرق عن الأيام المتبقية في الشهر.", "4": "يحصل على ترقية مجانية حتى نهاية الشهر." }, "correct_answer": "3", "explanation": "المحاسبة النسبية هي الطريقة العادلة لحساب التكاليف عند حدوث تغيير في الخدمة. يتم حساب تكلفة الأيام التي استُخدمت فيها الباقة القديمة وتكلفة الأيام المتبقية على الباقة الجديدة." },
             { "id": 289, "question": "أي من الإجراءات التالية لا يمكن للعميل القيام به من خلال تطبيقات الخدمة الذاتية (Self-Service Apps)؟", "options": { "1": "تجديد الباقة.", "2": "تغيير كلمة سر الواي فاي الخاصة بالراوتر.", "3": "شراء باقات إضافية.", "4": "مراجعة استهلاك الباقة." }, "correct_answer": "2", "explanation": "تطبيقات الخدمة الذاتية مخصصة لإدارة الحساب والاشتراكات. أما إعدادات جهاز الراوتر نفسه (مثل كلمة سر الواي فاي) فيجب تغييرها عن طريق الدخول المباشر لصفحة إعدادات الراوتر." },
             { "id": 290, "question": "ما هو الإجراء القياسي إذا طلب عميل تفعيل خدمة FTTH في منطقة لا تدعمها حالياً؟", "options": { "1": "أخذ بياناته في قائمة انتظار وإبلاغه بأنه سيتم التواصل معه عند توفر الخدمة.", "2": "إقناعه بالاشتراك في خدمة ADSL بدلاً منها.", "3": "رفض الطلب وإنهاء المكالمة.", "4": "تحويله إلى قسم الشكاوى." }, "correct_answer": "1", "explanation": "هذا الإجراء يظهر اهتمامًا بالعميل ويساعد الشركة في قياس الطلب على الخدمة في المناطق المختلفة لتوجيه خطط التوسع المستقبلية." },
             { "id": 291, "question": "إذا كان خط العميل يدعم سرعات عالية، ولكنه يشتكي من بطء شديد، وأظهر الفحص أن المشكلة ليست من الشبكة، فما هو الاحتمال الأكبر لسبب المشكلة؟", "options": { "1": "مشكلة في جهاز الراوتر الخاص بالعميل أو فيروسات على أجهزته.", "2": "بعد المسافة عن السنترال.", "3": "ضغط على الشبكة في المنطقة.", "4": "سياسة الاستخدام العادل." }, "correct_answer": "1", "explanation": "عندما تكون الشبكة سليمة، فإن أغلب أسباب البطء تكون محلية لدى العميل، مثل قدم طراز الراوتر، أو وجود برامج ضارة تستهلك موارد الشبكة، أو وجود عدد كبير جداً من الأجهزة المتصلة." },
             { "id": 292, "question": "ما هي الفائدة الأساسية من استخدام تردد 5GHz في الواي فاي بدلاً من 2.4GHz؟", "options": { "1": "مدى تغطية أوسع بكثير.", "2": "سرعة أعلى وتداخل أقل من الشبكات والأجهزة المجاورة.", "3": "استهلاك أقل لطاقة الراوتر.", "4": "توافق مع جميع الأجهزة القديمة والحديثة." }, "correct_answer": "2", "explanation": "يوفر تردد 5GHz قنوات اتصال أكثر وأوسع، وهو أقل ازدحامًا من تردد 2.4GHz الذي تستخدمه العديد من الأجهزة المنزلية، مما ينتج عنه اتصال أكثر سرعة واستقرارًا، خاصة في المناطق المكتظة بالسكان." },
             { "id": 293, "question": "في حال فشل عملية دفع عبر Apple Pay، ما هي أول جهة يجب على العميل التواصل معها للتحقق من المشكلة؟", "options": { "1": "شركة الاتصالات.", "2": "شركة أبل.", "3": "البنك الذي أصدر البطاقة المربوطة بالخدمة.", "4": "الدعم الفني للإنترنت." }, "correct_answer": "3", "explanation": "Apple Pay هو مجرد وسيط. سبب فشل الدفع غالبًا ما يكون مرتبطًا بالبطاقة نفسها، مثل عدم وجود رصيد كافٍ، أو تجاوز الحد الائتماني، أو قيود فرضها البنك على المعاملات عبر الإنترنت." },
             { "id": 294, "question": "ما هو الإجراء الصحيح الذي يجب على الموظف اتخاذه عند تلقي مكالمة صامتة (Silent Call)؟", "options": { "1": "إغلاق الخط مباشرة.", "2": "محاولة مخاطبة العميل عدة مرات ثم إنهاء المكالمة إذا لم يكن هناك رد.", "3": "تحويل المكالمة إلى مشرف الفريق.", "4": "الانتظار على الخط لمدة 5 دقائق." }, "correct_answer": "2", "explanation": "الإجراء القياسي هو محاولة التأكد من وجود مشكلة فنية في الاتصال من خلال مخاطبة العميل بوضوح. إذا استمر الصمت، يتم إنهاء المكالمة لإتاحة الخط لعملاء آخرين." },
             { "id": 295, "question": "عندما يقوم العميل بطلب 'تجديد مبكر' لباقته، ماذا يحدث للسعة المتبقية من الباقة القديمة؟", "options": { "1": "تضاف إلى سعة الباقة الجديدة.", "2": "يتم ترحيلها للشهر التالي.", "3": "يفقدها العميل، حيث تبدأ دورة جديدة بسعة جديدة.", "4": "يتم تعويضه بقيمة مالية عنها." }, "correct_answer": "3", "explanation": "التجديد المبكر يعني إنهاء الدورة الحالية وبدء دورة جديدة تمامًا. لا يتم ترحيل أي سعة متبقية من الدورة القديمة، ويحصل العميل على كامل سعة الباقة الجديدة لمدة 30 يومًا من تاريخ التجديد." },
             { "id": 296, "question": "ما الهدف من 'عروض الاحتفاظ بالعملاء' (Retention Concessions)؟", "options": { "1": "مكافأة العملاء الجدد.", "2": "بيع خدمات إضافية للعملاء الحاليين.", "3": "تقديم حوافز للعملاء الذين ينوون إلغاء اشتراكهم لإقناعهم بالبقاء.", "4": "الإعلان عن منتجات جديدة." }, "correct_answer": "3", "explanation": "هذه العروض هي أداة استباقية للحفاظ على قاعدة العملاء، حيث يتم تقديم خصومات أو مزايا خاصة للعميل الذي يبدي رغبة واضحة في إنهاء علاقته بالشركة." },
             { "id": 297, "question": "ما هي أفضل طريقة للرد على عميل يستفسر عن عرض ترويجي قديم ومنتهي؟", "options": { "1": "إخباره بوضوح أن العرض لم يعد متاحًا وتوجيهه لمعرفة العروض الحالية.", "2": "محاولة تفعيل العرض له بشكل استثنائي.", "3": "إخباره بأن عليه الانتظار حتى يعود العرض مرة أخرى.", "4": "تجاهل سؤاله وتغيير موضوع المحادثة." }, "correct_answer": "1", "explanation": "الشفافية والمصداقية هما أساس بناء الثقة. يجب إعلام العميل بالوضع الحالي بدقة وتقديم بدائل متاحة له من خلال القنوات الرسمية." },
             { "id": 298, "question": "لماذا يعتبر توفير رقم هاتف أرضي صحيحًا أمرًا حيويًا عند الاشتراك في خدمة الإنترنت ADSL؟", "options": { "1": "لأنه يستخدم لإرسال الفواتير الورقية.", "2": "لأن خدمة الإنترنت ADSL يتم توصيلها وتشغيلها عبر نفس الخط النحاسي للهاتف الأرضي.", "3": "لأنه يستخدم للتحقق من هوية العميل فقط.", "4": "لأنه شرط قانوني فقط وليس له استخدام فني." }, "correct_answer": "2", "explanation": "تعتمد تقنية ADSL بشكل كامل على البنية التحتية للخطوط الهاتفية النحاسية. لا يمكن تقديم الخدمة بدون وجود خط أرضي فعال يتم تركيب الخدمة عليه." },
             { "id": 369, "question": "إذا قام العميل بطلب خدمة 'سلفني' ثم قام بشحن رصيد لتجديد باقته الأساسية، كيف يتم محاسبته؟", "options": { "1": "يتم إلغاء قيمة خدمة 'سلفني' من الفاتورة.", "2": "يتم خصم قيمة خدمة 'سلفني' من الرصيد الذي قام بشحنه أولاً، ثم يتم استخدام باقي المبلغ للتجديد.", "3": "يتم تجديد الباقة أولاً، وتضاف قيمة 'سلفني' على الفاتورة التالية.", "4": "لا يمكنه التجديد إلا بعد انتهاء سعة 'سلفني'." }, "correct_answer": "2", "explanation": "خدمة 'سلفني' هي دين على الحساب. عند توفر رصيد، تكون الأولوية لتسوية الديون المستحقة أولاً قبل استخدام الرصيد في أي خدمات جديدة." },
             { "id": 370, "question": "ما هو الإجراء الذي يجب على الموظف فعله إذا كان العميل يستفسر عن كومباوند 'ERK' ويريد الاشتراك في خدمة الفايبر (FTTH)؟", "options": { "1": "إبلاغه بأن الإجراءات عادية مثل أي مكان آخر.", "2": "تحويله إلى الفريق المختص بخدمات FTTH أو إبلاغه بوجود نقطة بيع خاصة داخل الكومباوند.", "3": "إنشاء طلب خدمة ADSL له مؤقتًا.", "4": "الطلب منه تقديم طلب عبر الموقع الإلكتروني فقط." }, "correct_answer": "2", "explanation": "بعض المواقع الكبيرة لها فرق مبيعات وإجراءات مخصصة. توجيه العميل مباشرة إلى القناة الصحيحة يضمن حصوله على الخدمة بشكل أسرع وأكثر كفاءة." },
             { "id": 371, "question": "ما هو كود الإغلاق الذي يستخدمه الدعم الفني عندما يتم حل مشكلة ولكن العميل يرفض إغلاق الشكوى؟", "options": { "1": "(1) تم حل المشكلة.", "2": "(2) الخط مستقر / لا توجد مشكلة.", "3": "(30) العميل غير متاح.", "4": "يتم ترك الشكوى مفتوحة." }, "correct_answer": "2", "explanation": "إذا أثبتت الاختبارات الفنية أن الخط سليم ومستقر من الناحية الفنية، يتم إغلاق الشكوى بهذا الكود ليعكس الحالة الفنية للخط، بغض النظر عن رأي العميل، مع توثيق ذلك." },
             { "id": 372, "question": "إذا كان العميل يستخدم باقة GAMERZ وقام بتنزيل لعبة من خارج منصات الألعاب المحددة (مثلاً من موقع على الإنترنت)، من أين يُخصم الاستهلاك؟", "options": { "1": "من باقة الألعاب.", "2": "من الباقة الأساسية.", "3": "لا يُخصم على الإطلاق.", "4": "يُخصم 50% من باقة الألعاب و50% من الأساسية." }, "correct_answer": "2", "explanation": "ميزة احتساب الاستهلاك المخفض في باقات الألعاب تقتصر على الألعاب المحددة ومنصاتها. أي استخدام آخر، حتى لو كان تنزيل لعبة، يُعتبر استخدامًا عاديًا للإنترنت." },
             { "id": 373, "question": "ماذا يجب على العميل فعله إذا نسى كلمة سر الدخول لصفحة إعدادات الراوتر؟", "options": { "1": "الاتصال بخدمة العملاء لطلبها.", "2": "إعادة تشغيل الراوتر.", "3": "عمل إعادة ضبط المصنع (Factory Reset) للراوتر، مما يعيد كلمة السر الافتراضية.", "4": "شراء راوتر جديد." }, "correct_answer": "3", "explanation": "إعادة ضبط المصنع هي الطريقة الوحيدة لاستعادة الوصول إلى الراوتر في حالة نسيان كلمة السر المخصصة، حيث تعود كل الإعدادات، بما في ذلك بيانات الدخول، إلى حالتها الأصلية المكتوبة على ظهر الجهاز." },
             { "id": 448, "question": "ما هو الفرق الرئيسي في البنية التحتية بين خدمة FTTH وخدمة ADSL؟", "options": { "1": "FTTH تستخدم كابلات نحاسية، بينما ADSL تستخدم ألياف بصرية.", "2": "FTTH لاسلكية بالكامل، بينما ADSL سلكية.", "3": "FTTH تستخدم كابلات الألياف البصرية حتى منزل العميل، بينما ADSL تستخدم الخطوط الهاتفية النحاسية.", "4": "لا يوجد فرق في البنية التحتية، فقط في السرعة." }, "correct_answer": "3", "explanation": "هذا هو الاختلاف الجوهري الذي يعطي تقنية FTTH ميزة السرعة الفائقة والاستقرار، حيث أن الألياف البصرية تنقل البيانات عبر الضوء وهي أقل تأثراً بالعوامل الخارجية والمسافة." },
             { "id": 449, "question": "عميل يتصل للاستفسار عن سبب عدم عمل الإنترنت، وبعد الفحص تبين أن المشكلة هي 'Wrong Card/Port'. ماذا تعني هذه المشكلة للعميل؟", "options": { "1": "أن عليه تغيير بطاقته البنكية.", "2": "أن هناك خطأ في توصيلات الكابلات الخاصة به داخل المنزل.", "3": "أن هناك خطأ في بياناته على النظام لا تتطابق مع التوصيل الفعلي في الكبينة، ويتطلب زيارة فني.", "4": "أن الراوتر الخاص به لا يدعم الخدمة." }, "correct_answer": "3", "explanation": "يجب تبسيط المعلومة الفنية للعميل. أفضل شرح هو أن هناك عدم تطابق بين الإعدادات في النظام المركزي والتوصيل المادي لخطه، وأن فنيًا سيقوم بإصلاح هذا الخلل." },
             { "id": 450, "question": "ما هي أهمية نظام CRM (إدارة علاقات العملاء) لموظف خدمة العملاء؟", "options": { "1": "هو نظام لتسجيل الحضور والانصراف.", "2": "يوفر سجلًا تاريخيًا كاملاً لتفاعلات العميل، مما يسمح بتقديم خدمة شخصية ومتسقة.", "3": "هو محرك البحث المستخدم للوصول إلى الإنترنت.", "4": "هو نظام لإرسال رسائل البريد الإلكتروني الداخلية فقط." }, "correct_answer": "2", "explanation": "يُمكّن نظام CRM الموظف من رؤية جميع طلبات العميل السابقة، وشكاويه، والملاحظات المسجلة، مما يساعده على فهم سياق المشكلة الحالية بسرعة وتقديم حل أفضل دون الحاجة لتكرار الأسئلة." }
                     ];
        const ONLINE_QUESTION_BANK = [
          {
        "id": 1,
        "question": "إذا اشتكى عميل من انقطاع الخدمة لمدة يومين وطلب تعويضًا ماليًا فوريًا أثناء المكالمة، ما هو الإجراء الصحيح للموظف؟",
        "options": {
            "1": "إضافة خصم 20 جنيهًا مباشرة على حسابه.",
            "2": "الاعتذار للعميل، والتأكد من وجود شكوى فنية مفتوحة ومتابعتها، وإبلاغه أن التعويض يُقيّم بعد حل المشكلة.",
            "3": "رفض طلب التعويض لأن الشركة غير مسؤولة.",
            "4": "تحويل المكالمة مباشرة لقائد الفريق."
        },
        "correct_answer": "2",
        "explanation": "لا يملك الموظف صلاحية إضافة تعويضات مالية مباشرة عن انقطاع الخدمة. الإجراء الصحيح هو متابعة حل المشكلة الفنية أولًا، ثم يتم تقييم التعويض لاحقًا وفقًا لسياسات الشركة."
    },
    {
        "id": 2,
        "question": "متى يجب على الموظف تصعيد طلب تعويض إلى قائد الفريق (Team Leader)؟",
        "options": {
            "1": "في كل مرة يطلب فيها العميل تعويضًا.",
            "2": "فقط إذا كان طلب العميل منطقيًا ولكنه يتجاوز الإجراءات والسياسات المعتادة.",
            "3": "إذا كانت المشكلة تتعلق بسرعة الإنترنت.",
            "4": "لا يتم التصعيد أبدًا، ويتم التعامل مع كل الطلبات مباشرة."
        },
        "correct_answer": "2",
        "explanation": "يتم اللجوء إلى قائد الفريق للحصول على موافقة استثنائية في الحالات التي لا تغطيها الإجراءات القياسية، وتتطلب قرارًا إداريًا أعلى."
    },
    {
        "id": 3,
        "question": "عميل يشتكي من خطأ في الفاتورة ويريد تعويضًا عن وقته ومجهوده، ما هو أول ما يجب على الموظف فعله؟",
        "options": {
            "1": "تقديم خصم فوري كتعويض.",
            "2": "التحقق من الخطأ في الفاتورة والعمل على تصحيحه أولاً.",
            "3": "إبلاغه بأن الشركة لا تعوض عن وقت العملاء.",
            "4": "إنشاء طلب لقائد الفريق فورًا."
        },
        "correct_answer": "2",
        "explanation": "الأولوية القصوى هي حل المشكلة الأصلية للعميل. قبل مناقشة أي تعويضات، يجب التحقق من صحة الشكوى وتصحيح أي خطأ موجود في الفاتورة."
    },
    {
        "id": 4,
        "question": "هل يمتلك موظف خدمة العملاء صلاحية إضافة 'باقة إضافية مجانية' كتعويض للعميل؟",
        "options": {
            "1": "نعم، يمكنه إضافة أي باقة يريدها.",
            "2": "لا، إضافة أي خدمات مجانية يجب أن تتم من خلال عروض معتمدة أو بعد موافقة خاصة.",
            "3": "نعم، ولكن فقط باقة 5 جيجا.",
            "4": "نعم، إذا كانت المشكلة بسبب الشركة."
        },
        "correct_answer": "2",
        "explanation": "لا يمكن للموظفين إضافة خدمات أو باقات مجانية بشكل يدوي. يجب أن تكون هذه التعويضات جزءًا من حملة أو عرض معتمد له شروطه وإجراءاته الخاصة في النظام."
    },
    {
        "id": 5,
        "question": "إذا أصر العميل على الحصول على تعويض فوري ورفض اتباع الإجراءات العادية، ما هو التصرف المناسب؟",
        "options": {
            "1": "إنهاء المكالمة.",
            "2": "شرح الإجراءات المتبعة بهدوء وتوضيح سبب أهميتها، وفي حالة الإصرار الشديد يمكن استشارة المشرف.",
            "3": "الموافقة على طلبه لتجنب المشاكل.",
            "4": "إيقاف خدمة العميل."
        },
        "correct_answer": "2",
        "explanation": "يجب على الموظف الحفاظ على هدوئه وشرح العملية المتبعة. التصعيد للمشرف يكون خيارًا متاحًا للتعامل مع الحالات الصعبة وإصرار العملاء."
    },
    {
        "id": 6,
        "question": "ما هو نوع الطلب الذي يجب على الموظف إنشاؤه لتصحيح خطأ في شحن الرصيد؟",
        "options": {
            "1": "طلب تعويض (Compensation Request).",
            "2": "طلب 'شحن بالخطأ' (Recharge by mistake).",
            "3": "طلب لرئيس الفريق (Request to TL).",
            "4": "تذكرة فنية (Technical Ticket)."
        },
        "correct_answer": "2",
        "explanation": "يوجد إجراء ونوع طلب مخصص لمعالجة أخطاء الشحن، وهو ليس 'تعويضًا' بالمعنى الحرفي بل 'تصحيح' لعملية مالية."
    },
    {
        "id": 7,
        "question": "في حالة وجود مشكلة عامة في الشبكة (Outage) تؤثر على عدد كبير من العملاء، كيف يتم التعامل مع طلبات التعويض؟",
        "options": {
            "1": "يتم تعويض كل عميل يتصل على حدة.",
            "2": "لا يتم تقديم أي تعويضات في حالات المشاكل العامة.",
            "3": "غالبًا ما تقرر الشركة سياسة تعويض عامة يتم تطبيقها بعد حل المشكلة.",
            "4": "يجب على كل عميل زيارة الفرع لطلب تعويض."
        },
        "correct_answer": "3",
        "explanation": "في حالات الانقطاعات الكبيرة، عادة ما يتم اتخاذ قرار مركزي بشأن التعويضات لتطبيقه بشكل موحد على جميع العملاء المتأثرين."
    },
    {
        "id": 8,
        "question": "ما هي الأداة الأساسية التي يجب على الموظف استخدامها لتوثيق شكوى العميل وطلبه للتعويض؟",
        "options": {
            "1": "برنامج البريد الإلكتروني.",
            "2": "مستند وورد شخصي.",
            "3": "نظام إدارة علاقات العملاء (CRM).",
            "4": "تطبيق واتساب."
        },
        "correct_answer": "3",
        "explanation": "يجب توثيق جميع تفاعلات العملاء، بما في ذلك الشكاوى وطلبات التعويض، في نظام CRM لضمان المتابعة الصحيحة وإمكانية المراجعة."
    },
    {
        "id": 9,
        "question": "إذا كانت المشكلة الفنية بسبب أسلاك العميل الداخلية، هل يستحق العميل تعويضًا من الشركة؟",
        "options": {
            "1": "نعم، دائمًا.",
            "2": "لا، لأن المشكلة تقع ضمن مسؤولية العميل.",
            "3": "نعم، ولكن نصف القيمة فقط.",
            "4": "فقط إذا كان عميلاً قديمًا."
        },
        "correct_answer": "2",
        "explanation": "الشركة مسؤولة عن الشبكة حتى نقطة الدخول إلى منزل العميل. أي مشاكل في التوصيلات الداخلية تعتبر من مسؤولية العميل."
    },
    {
        "id": 10,
        "question": "لماذا لا يجب على الموظف أن 'يعد' العميل بتعويض معين قبل التحقق والموافقة؟",
        "options": {
            "1": "لأن العميل قد ينسى.",
            "2": "لتجنب وضع توقعات قد لا تتحقق، مما يزيد من عدم رضا العميل لاحقًا.",
            "3": "لأن جميع الوعود يتم تسجيلها ومراقبتها.",
            "4": "لأن هذا قد يستغرق وقتًا طويلاً."
        },
        "correct_answer": "2",
        "explanation": "تقديم وعود غير مؤكدة قد يؤدي إلى تفاقم المشكلة إذا لم يتمكن النظام أو السياسات من تحقيق هذا الوعد."
    },
    {
        "id": 11,
        "question": "إذا طلب العميل تعويضًا عن تجربة خدمة عملاء سيئة، ما هو التصرف الأنسب؟",
        "options": {
            "1": "رفض الطلب لأن التعويضات فنية فقط.",
            "2": "الاعتذار بصدق، وتوثيق الشكوى ضد الموظف المعني، وتصعيد الحالة للمشرف لتقييمها.",
            "3": "إعطاء العميل خصمًا فوريًا.",
            "4": "إبلاغه بأن جميع المكالمات مسجلة."
        },
        "correct_answer": "2",
        "explanation": "يجب التعامل مع الشكاوى المتعلقة بالخدمة بجدية. الإجراء الصحيح هو الاعتذار، التوثيق، والتصعيد للمراجعة واتخاذ الإجراء المناسب."
    },
    {
        "id": 12,
        "question": "ما هو البديل الذي يمكن للموظف تقديمه إذا كان التعويض المالي غير متاح؟",
        "options": {
            "1": "لا يوجد بدائل.",
            "2": "وعد العميل بتعويض مستقبلي.",
            "3": "التركيز على حل المشكلة بشكل جذري وتقديم اعتذار صادق وشرح الإجراءات المتخذة.",
            "4": "تقديم بيانات المشرف للعميل."
        },
        "correct_answer": "3",
        "explanation": "في كثير من الحالات، يكون العميل راضيًا إذا شعر بالاهتمام وأن مشكلته الحقيقية قد تم حلها بشكل نهائي."
    },
    {
        "id": 13,
        "question": "هل يتم توثيق طلب قائد الفريق (TL) للتعويض في نظام CRM؟",
        "options": {
            "1": "لا، يتم شفهيًا فقط.",
            "2": "نعم، يجب إنشاء طلب أو تدوين ملاحظة مفصلة على حساب العميل لتوثيق الطلب والموافقة.",
            "3": "فقط إذا كانت قيمة التعويض كبيرة.",
            "4": "يتم توثيقه في نظام منفصل."
        },
        "correct_answer": "2",
        "explanation": "جميع الإجراءات الاستثنائية والموافقات يجب أن تكون موثقة لضمان الشفافية وإمكانية المراجعة والتدقيق."
    },
    {
        "id": 14,
        "question": "إذا لم يتوفر للموظف صلاحية إضافة تعويض، فهل هذا يعني أنه لا يمكن تعويض العميل أبدًا؟",
        "options": {
            "1": "نعم، هذا يعني أن التعويض مستحيل.",
            "2": "لا، هذا يعني أن هناك قناة تصعيد (مثل قائد الفريق) يمكنها مراجعة الحالة والموافقة على التعويض.",
            "3": "نعم، إلا إذا قام العميل بزيارة الفرع.",
            "4": "لا، يمكن للموظف تجاوز صلاحياته في هذه الحالة."
        },
        "correct_answer": "2",
        "explanation": "وجود مستويات مختلفة من الصلاحيات هو أمر طبيعي في المؤسسات، والغرض منه هو ضمان أن القرارات الاستثنائية يتم اتخاذها من قبل المستوى الإداري المناسب."
    },
    {
        "id": 15,
        "question": "ما هو المعيار الأساسي الذي يحدد إمكانية تقديم تعويض للعميل؟",
        "options": {
            "1": "مدى ارتفاع صوت العميل.",
            "2": "أن تكون المشكلة مثبتة ومن مسؤولية الشركة.",
            "3": "عدد المرات التي اتصل بها العميل.",
            "4": "نوع باقة العميل."
        },
        "correct_answer": "2",
        "explanation": "الأساس المنطقي لأي تعويض هو وجود خطأ أو تقصير مثبت من جانب الشركة أثر على خدمة العميل."
    },
    {
        "id": 16,
        "question": "ماذا يحدث للسعة المتبقية من باقة الإنترنت عند القيام بـ'تجديد مبكر'؟",
        "options": {
            "1": "تُضاف إلى الباقة الجديدة.",
            "2": "تُرحل للشهر القادم.",
            "3": "يتم فقدانها ولا يتم ترحيلها.",
            "4": "تُستبدل بدقائق مجانية."
        },
        "correct_answer": "3",
        "explanation": "التجديد المبكر ينهي دورة الباقة الحالية فورًا ويبدأ دورة جديدة، وبالتالي لا يتم نقل أي سعة متبقية من الدورة المنتهية."
    },
    {
        "id": 17,
        "question": "ما هي أول خطوة تشخيصية فنية عند فشل طلب 'تجديد مبكر'؟",
        "options": {
            "1": "فحص رصيد العميل.",
            "2": "التحقق من أن ملف الخدمة الصوتية (FV Profile) نشط.",
            "3": "إعادة تشغيل الراوتر.",
            "4": "التحقق من سرعة الخط."
        },
        "correct_answer": "2",
        "explanation": "هذه هي الخطوة الأولى الموثقة، لأن عدم نشاط ملف الخدمة الصوتية هو سبب فني شائع لتوقف مثل هذه الطلبات في النظام."
    },
    {
        "id": 18,
        "question": "هل يمكن للعميل إجراء تجديد مبكر على باقة مختلفة عن باقته الحالية؟",
        "options": {
            "1": "لا، يجب أن يكون التجديد على نفس الباقة.",
            "2": "نعم، ويعتبر هذا بمثابة طلب تغيير باقة وتجديد في نفس الوقت.",
            "3": "نعم، ولكن فقط إذا كانت الباقة الجديدة أقل سعرًا.",
            "4": "لا، إلا من خلال زيارة الفرع."
        },
        "correct_answer": "2",
        "explanation": "يمكن للعميل اختيار أي باقة متاحة عند التجديد المبكر، وسيتم تطبيق شروط وأسعار الباقة الجديدة فورًا."
    },
    {
        "id": 19,
        "question": "متى تبدأ دورة الصلاحية الجديدة للباقة بعد التجديد المبكر؟",
        "options": {
            "1": "بعد 24 ساعة.",
            "2": "في بداية الشهر التالي.",
            "3": "فورًا من لحظة نجاح عملية التجديد.",
            "4": "في تاريخ التجديد الأصلي."
        },
        "correct_answer": "3",
        "explanation": "التجديد المبكر ينشئ دورة فوترة جديدة تبدأ صلاحيتها (30 يومًا) مباشرة من لحظة التنفيذ الناجح."
    },
    {
        "id": 20,
        "question": "ماذا تعني رسالة الخطأ 'Abnormal' عند متابعة طلب تجديد مبكر؟",
        "options": {
            "1": "أن رصيد العميل غير كافٍ.",
            "2": "أن الطلب عالق في النظام بسبب مشكلة فنية.",
            "3": "أن الباقة المطلوبة لم تعد متاحة.",
            "4": "أن العميل أدخل بيانات خاطئة."
        },
        "correct_answer": "2",
        "explanation": "يستخدم هذا المصطلح للإشارة إلى أن الطلب لم يكتمل بشكل طبيعي وتوقف في مرحلة ما من مراحل التنفيذ في أنظمة الشركة."
    },
    {
        "id": 21,
        "question": "هل يمكن للعميل إلغاء طلب تجديد مبكر بعد تنفيذه بنجاح واستلامه للسعة الجديدة؟",
        "options": {
            "1": "نعم، خلال ساعة واحدة.",
            "2": "لا، بمجرد نجاح العملية لا يمكن التراجع عنها.",
            "3": "نعم، ولكن مع خصم 50% من الرسوم.",
            "4": "نعم، إذا لم يستخدم أكثر من 1 جيجا."
        },
        "correct_answer": "2",
        "explanation": "عملية التجديد المبكر هي عملية نهائية وفورية (irreversible)، حيث يتم استهلاك الرصيد وبدء دورة جديدة على الفور."
    },
    {
        "id": 22,
        "question": "ما هو الشرط الأساسي في الباقة الأساسية لتتمكن من استخدام الباقات الإضافية؟",
        "options": {
            "1": "أن تكون باقة فايبر.",
            "2": "أن تكون نشطة (Active).",
            "3": "أن يكون قد تم استهلاكها بالكامل.",
            "4": "أن تكون ذات سرعة منخفضة."
        },
        "correct_answer": "2",
        "explanation": "لا يمكن للنظام إضافة أو استخدام أي خدمات على باقة غير نشطة (سواء كانت موقوفة أو منتهية الصلاحية)."
    },
    {
        "id": 23,
        "question": "ماذا يشمل المبلغ الذي يجب أن يكون متوفرًا في رصيد العميل لإتمام التجديد المبكر؟",
        "options": {
            "1": "قيمة الباقة الأساسية فقط.",
            "2": "قيمة الباقة الأساسية بالإضافة إلى ضريبة القيمة المضافة.",
            "3": "قيمة أي مديونيات سابقة فقط.",
            "4": "قيمة الباقة بالإضافة إلى رسوم التجديد المبكر."
        },
        "correct_answer": "2",
        "explanation": "لنجاح العملية، يجب أن يغطي الرصيد التكلفة الإجمالية للباقة الجديدة بعد إضافة كافة الضرائب والرسوم المستحقة."
    },
    {
        "id": 24,
        "question": "هل يؤثر التجديد المبكر على تاريخ استحقاق فاتورة الخط الأرضي؟",
        "options": {
            "1": "نعم، تتغير فاتورة الخط الأرضي أيضًا.",
            "2": "لا، التجديد المبكر يؤثر فقط على دورة باقة الإنترنت.",
            "3": "فقط إذا تم في أول الشهر.",
            "4": "فقط إذا تم تغيير الباقة."
        },
        "correct_answer": "2",
        "explanation": "التجديد المبكر هو إجراء خاص بباقة الإنترنت المدفوعة مقدمًا ولا علاقة له بدورة الفوترة الربع سنوية الخاصة بالخط الأرضي."
    },
    {
        "id": 25,
        "question": "ما هو السبب الرئيسي الذي يدفع العميل لعمل تجديد مبكر؟",
        "options": {
            "1": "للحصول على خصم.",
            "2": "لتغيير رقم هاتفه.",
            "3": "لاستعادة سرعة الإنترنت الكاملة بعد انتهائها قبل موعد التجديد.",
            "4": "للحصول على باقة إضافية مجانية."
        },
        "correct_answer": "3",
        "explanation": "الهدف الأساسي من هذه الميزة هو تمكين العميل من التغلب على مشكلة انخفاض السرعة (throttling) بعد انتهاء السعة، عن طريق بدء باقة جديدة على الفور."
    },
    {
        "id": 26,
        "question": "إذا كان طلب التجديد المبكر 'Abnormal' وملف FV نشط، ما هو الدليل الذي يجب على الموظف الرجوع إليه؟",
        "options": {
            "1": "دليل باقات الإنترنت.",
            "2": "دليل 'Abnormal orders' في قاعدة المعرفة.",
            "3": "دليل عروض الشركة.",
            "4": "دليل الدعم الفني للراوترات."
        },
        "correct_answer": "2",
        "explanation": "بعد استبعاد السبب الأولي، يجب على الموظف الرجوع إلى دليل الإجراءات المخصص لحل هذا النوع من المشاكل الموثقة واتباع الخطوات."
    },
    {
        "id": 27,
        "question": "إذا قام العميل بالتجديد المبكر على باقة أعلى سعرًا، ماذا يحدث؟",
        "options": {
            "1": "يتم تطبيق التغيير من الشهر التالي.",
            "2": "يتم خصم سعر الباقة الجديدة الأعلى فورًا.",
            "3": "يفشل الطلب لأن تغيير الباقة له إجراء منفصل.",
            "4": "يحصل على خصم لكونها أول مرة."
        },
        "correct_answer": "2",
        "explanation": "التجديد المبكر يمكن أن يتضمن تغييرًا للباقة، وسيتم خصم التكلفة الكاملة للباقة الجديدة المختارة من رصيد العميل."
    },
    {
        "id": 28,
        "question": "إذا فشل التجديد المبكر بسبب عدم كفاية الرصيد، ما هي الرسالة التي يتلقاها العميل عادةً؟",
        "options": {
            "1": "رسالة تفيد بوجود مشكلة فنية.",
            "2": "رسالة تطلب منه شحن رصيد كافٍ والمحاولة مرة أخرى.",
            "3": "رسالة تفيد بإيقاف الخدمة.",
            "4": "لا يتلقى أي رسالة."
        },
        "correct_answer": "2",
        "explanation": "في معظم الأنظمة، تكون رسائل الخطأ واضحة ومباشرة لتوجيه العميل للإجراء الصحيح المطلوب منه."
    },
    {
        "id": 29,
        "question": "هل يمكن جدولة طلب تجديد مبكر ليتم تنفيذه في تاريخ مستقبلي؟",
        "options": {
            "1": "نعم، يمكن جدولته لأي يوم.",
            "2": "لا، التجديد المبكر هو عملية فورية تتم في نفس لحظة الطلب.",
            "3": "نعم، ولكن فقط من خلال الفرع.",
            "4": "فقط إذا كانت الباقة الحالية لم تنته بعد."
        },
        "correct_answer": "2",
        "explanation": "طبيعة خدمة التجديد المبكر أنها حل فوري لمشكلة انتهاء السعة، لذا فهي تنفذ لحظيًا ولا يمكن جدولتها."
    },
    {
        "id": 30,
        "question": "ماذا يجب على الموظف التأكد منه قبل أن يقترح على العميل التجديد المبكر؟",
        "options": {
            "1": "أن العميل لديه نفس نوع الراوتر.",
            "2": "أن العميل يفهم أن السعة المتبقية من باقته الحالية سيتم فقدانها.",
            "3": "أن العميل مشترك في الخدمة منذ أكثر من عام.",
            "4": "أن العميل لم يشتك من قبل."
        },
        "correct_answer": "2",
        "explanation": "من المهم جدًا إدارة توقعات العميل وشرح جميع جوانب العملية له، وأهمها هو أن أي بيانات متبقية من الباقة الحالية لن يتم ترحيلها."
    },
    {
        "id": 31,
        "question": "حسب إحدى القواعد، إذا حصل العميل على تعويض 'WE Mobile Line Adjustment' بسبب عطل عام، ثم حدث عطل عام آخر في نفس اليوم، فما هو الإجراء الصحيح؟",
        "options": {
            "1": "يتم تعويض العميل مرة أخرى.",
            "2": "لا يتم تعويض العميل مرة أخرى في نفس اليوم.",
            "3": "يتم الانتظار حتى حل العطل.",
            "4": "يتم تعويض العميل بـ 5 جيجا لمدة 3 أيام."
        },
        "correct_answer": "1",
        "explanation": "القاعدة المذكورة تنص على أنه في حالة تكرار العطل العام في نفس اليوم، يتم تعويض العميل مرة أخرى."
    },
    {
        "id": 32,
        "question": "وفقًا لقاعدة أخرى، إذا حصل العميل على تعويض 'WE Mobile Line Adjustment' وظهر عطل عام آخر بنفس اليوم، فما هو الإجراء؟",
        "options": {
            "1": "يتم مضاعفة التعويض.",
            "2": "لن يتم عرض تعويض 'WE Mobile Line Adjustment' مرة أخرى.",
            "3": "يتم تحويله للدعم الفني المتقدم.",
            "4": "يتم إنشاء طلب خاص لقائد الفريق."
        },
        "correct_answer": "2",
        "explanation": "هناك قاعدة أخرى مناقضة تنص على أنه لن يتم عرض التعويض مرة أخرى في حالة تكرار العطل بنفس اليوم. (ملاحظة: وجود القاعدتين قد يعتمد على سيناريوهات مختلفة)."
    },
    {
        "id": 33,
        "question": "هل يتم إضافة تعويض 'WE Mobile Adjustment' في حالة مشكلة 'Port Time Out' إذا لم يظهر عطل عام (Outage) على نظام CST 360؟",
        "options": {
            "1": "لا، يجب انتظار ظهور العطل العام أولاً.",
            "2": "نعم، يتم إضافة التعويض في هذه الحالة.",
            "3": "لا، يتم إنشاء تذكرة فنية فقط.",
            "4": "فقط إذا كان الخط فايبر."
        },
        "correct_answer": "2",
        "explanation": "القاعدة تنص على أنه يتم إضافة التعويض المخصص لحالات 'Port Time Out' حتى لو لم يتم الإعلان عن عطل عام على نظام CST 360."
    },
    {
        "id": 34,
        "question": "عند تصعيد شكوى 'Physical Instability'، ما هو حجم ومدة تعويض WE Mobile الذي يُعرض على العميل؟",
        "options": {
            "1": "2 جيجا لمدة 3 أيام",
            "2": "3 جيجا لمدة يومين",
            "3": "5 جيجا لمدة 3 أيام",
            "4": "لا يتم تعويض العميل."
        },
        "correct_answer": "3",
        "explanation": "الإجراء المتبع في حالات تصعيد عدم استقرار الخدمة من النوع 'Physical' هو تعويض العميل بـ 5 جيجابايت صالحة لمدة 3 أيام."
    },
    {
        "id": 35,
        "question": "إذا تم تصعيد شكوى 'Instability' وكانت نتيجة فحص أداة ASSIA هي 'Technician Dispatch'، ما هو التعويض الصحيح؟",
        "options": {
            "1": "5 جيجا لمدة 3 أيام.",
            "2": "3 جيجا لمدة يومين.",
            "3": "لا يتم تقديم تعويض.",
            "4": "خصم من الفاتورة."
        },
        "correct_answer": "2",
        "explanation": "في حالات عدم الاستقرار التي تعطي فيها أداة ASSIA نتائج محددة (مثل Technician Dispatch أو Out of Service)، يكون التعويض المخصص هو 3 جيجابايت لمدة يومين."
    },
    {
        "id": 36,
        "question": "ما هو التعويض المخصص لعميل 'Student Line' الذي يواجه مشكلة 'Port Time Out'؟",
        "options": {
            "1": "3 جيجا لمدة يومين.",
            "2": "5 جيجا لمدة 3 أيام.",
            "3": "لا يتم تعويض هذا النوع من الخطوط.",
            "4": "الانتظار حتى حل المشكلة."
        },
        "correct_answer": "2",
        "explanation": "هناك تعويض محدد لعملاء 'Student Line' في هذه الحالة الخاصة، وهو 5 جيجابايت صالحة لمدة 3 أيام."
    },
    {
        "id": 37,
        "question": "إذا كان العميل يملك خط WE Mobile ورفض التعويض المقترح، ما هو مسار طلب الخدمة (SR) الصحيح لتوثيق الحالة؟",
        "options": {
            "1": "Customer accept the compensation",
            "2": "Customer refuse the compensation",
            "3": "Customer don't have WE line",
            "4": "Not eligible"
        },
        "correct_answer": "2",
        "explanation": "يجب اختيار المسار 'FBB Non Tech Billing Adjustment-Inquiry-WE Line -Customer refuse the compensation' لتوثيق رفض العميل للتعويض بدقة في النظام."
    },
    {
        "id": 38,
        "question": "عندما يتم تصعيد شكوى 'Data and Voice Down' ويظهر تحديث 'Major Fault' على نظام ADF/TTS، كيف يتم تصنيف الحالة؟",
        "options": {
            "1": "Data Down Case",
            "2": "Voice Down Case",
            "3": "Outage Case (حالة عطل عام)",
            "4": "Individual Case (حالة فردية)"
        },
        "correct_answer": "3",
        "explanation": "ظهور تحديث 'Major Fault' من هذه الأنظمة يعني أن المشكلة جماعية وتؤثر على منطقة واسعة، وبالتالي يتم التعامل معها كحالة عطل عام."
    },
    {
        "id": 39,
        "question": "إذا قام العميل بالتجديد بنفسه ولكن السرعة لم ترتفع إلا بعد أن قام الموظف بعمل 'ريستارت للبورت'، ما هو طلب الخدمة (SR) الصحيح الذي يجب إنشاؤه؟",
        "options": {
            "1": "Early renewal done after restart port",
            "2": "Early renewal done after full verification",
            "3": "Early renewal done by cst side - after restart port",
            "4": "Non tech complaint - billing - early renewal done"
        },
        "correct_answer": "3",
        "explanation": "يتم اختيار هذا التصنيف لأنه يوضح أن العميل بدأ عملية التجديد بنفسه، وكان تدخل الموظف مقتصرًا على عمل 'ريستارت للبورت' فقط لحل المشكلة."
    },
    {
        "id": 40,
        "question": "هل يمكن لموظف الفرع إجراء تجديد مبكر لعميل دفع قيمة الباقة كاملة ولكن لا يحمل بطاقة الرقم القومي؟",
        "options": {
            "1": "صحيح (True)",
            "2": "خطأ (False)"
        },
        "correct_answer": "1",
        "explanation": "الإجابة 'صحيح' لأن عملية دفع المبلغ بالكامل في الفرع تعتبر معاملة مالية مكتملة قد لا تتطلب نفس إجراءات التحقق الصارمة الخاصة بالعمليات التي تتم على الحساب دون دفع."
    },
    {
        "id": 41,
        "question": "في أي حالة يحصل العميل على هدية الـ 5 جيجا بايت من تطبيق My WE؟",
        "options": {
            "1": "عند فتح التطبيق أكثر من مرة في اليوم.",
            "2": "عند فتح التطبيق لأول مرة فقط بعد تثبيته.",
            "3": "عند كل عملية تجديد للباقة من التطبيق.",
            "4": "عند دفع الفاتورة من التطبيق."
        },
        "correct_answer": "2",
        "explanation": "هذه الهدية هي عرض ترحيبي مخصص للمستخدمين الجدد للتطبيق، ويتم منحها مرة واحدة فقط عند تسجيل الدخول لأول مرة."
    },
    {
        "id": 42,
        "question": "عند التجديد عبر الرسالة الصوتية (IVR) من رقم مختلف، هل يطلب النظام إدخال آخر 3 أرقام من الرقم المسجل في العقد للتحقق؟",
        "options": {
            "1": "صحيح (True)",
            "2": "خطأ (False)"
        },
        "correct_answer": "2",
        "explanation": "الإجابة 'خطأ' لأن الإجراء الصحيح للتحقق في هذه الحالة هو طلب إدخال آخر 4 أرقام من رقم الموبايل المسجل في العقد."
    },
    {
        "id": 43,
        "question": "عندما يتحول طلب التجديد إلى الحالة 'Abnormal' على النظام، ما هي الخطوات التي يجب اتباعها بالترتيب؟",
        "options": {
            "1": "التأكد من أن الخط الأرضي active.",
            "2": "عمل order re-dispatch.",
            "3": "عمل تذكرة 'abnormal TT' في حالة عدم الحل.",
            "4": "جميع ما سبق."
        },
        "correct_answer": "4",
        "explanation": "الإجابة هي 'جميع ما سبق' لأنها تمثل الإجراءات المتكاملة والمتسلسلة لحل مشكلة توقف الطلبات في النظام."
    }
]

        // --- Global State ---
        let allElements = {};
        let currentUser = null;
        let currentPlayerProfile = null;
        let currentLobbyUnsubscribe = null;
        let matchTimer = null;
        let musicPlayer = null;
        let isMuted = true;
        let currentMatchState = null;

        // --- Core UI & Logic ---
        const showScreen = (screenId) => {
            document.querySelectorAll('.screen-container').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId)?.classList.add('active');
        };

        const getHighestTierInfo = (playerProfile) => {
            if (!playerProfile || !playerProfile.highestTierId) return null;
            const tier = TIERS_CONFIG.find(t => t.id === playerProfile.highestTierId);
            return tier ? { medal: tier.medal, name: tier.name } : null;
        };
        
        const handleLogin = async () => {
            const name = allElements.nameInput.value.trim();
            const teleoptiId = allElements.teleoptiIdInput.value.trim();
            if (!name || !/^\d+$/.test(teleoptiId)) return alert("الرجاء إدخال بيانات صحيحة.");
            
            allElements.loginBtn.disabled = true;
            try {
                if (!auth.currentUser) await signInAnonymously(auth);
                const user = auth.currentUser;
                const playerRef = doc(db, "players", teleoptiId);
                const playerDoc = await getDoc(playerRef);

                const playerData = {
                    name,
                    teleoptiId,
                    uid: user.uid,
                    score: playerDoc.exists() ? playerDoc.data().score : 0,
                    singlePlayerProgress: playerDoc.exists() ? playerDoc.data().singlePlayerProgress || {} : {},
                    highestTierId: playerDoc.exists() ? playerDoc.data().highestTierId || null : null,
                    awards: playerDoc.exists() ? playerDoc.data().awards || [] : [],
                };
                await setDoc(playerRef, playerData, { merge: true });

                localStorage.setItem('botros-race-teleoptiId', teleoptiId);
                await loadProfileAndStart(teleoptiId);
            } catch (error) {
                console.error("Login Error:", error);
                alert("فشل تسجيل الدخول.");
            } finally {
                if(allElements.loginBtn) allElements.loginBtn.disabled = false;
            }
        };
        
        const loadProfileAndStart = async (teleoptiId) => {
            try {
                const playerDoc = await getDoc(doc(db, "players", teleoptiId));
                if (playerDoc.exists()) {
                    currentPlayerProfile = { id: playerDoc.id, ...playerDoc.data() };
                    updateMainMenu();
                    showScreen('main-menu-screen');
                } else {
                    handleLogout();
                }
            } catch (error) {
                console.error("Profile Load Error:", error);
                handleLogout();
            }
        };
        
        const handleLogout = async () => {
            if(currentLobbyUnsubscribe) { currentLobbyUnsubscribe(); currentLobbyUnsubscribe = null; }
            if (auth.currentUser) await signOut(auth).catch(console.error);
            localStorage.removeItem('botros-race-teleoptiId');
            currentPlayerProfile = null;
            currentUser = null;
            if(allElements.nameInput) allElements.nameInput.value = '';
            if(allElements.teleoptiIdInput) allElements.teleoptiIdInput.value = '';
            showScreen('registration-screen');
        };
        
        const updateMainMenu = () => {
            if (!currentPlayerProfile) return;
            const tierInfo = getHighestTierInfo(currentPlayerProfile);
            const titleMedal = tierInfo ? tierInfo.medal : '';
            
            allElements.welcomeMessage.innerHTML = '';
            
            const text1 = document.createTextNode('أهلاً بك, ');
            const titleSpan = document.createElement('span');
            titleSpan.className = 'player-title-medal';
            titleSpan.textContent = titleMedal;
            const nameSpan = document.createElement('span');
            nameSpan.className = 'name';
            nameSpan.textContent = ` ${currentPlayerProfile.name}`;

            allElements.welcomeMessage.append(text1, titleSpan, nameSpan);
            allElements.medalsDisplay.textContent = (currentPlayerProfile.awards || []).join(' ');
        };

        const displaySinglePlayerMenu = () => {
            const container = allElements.tiersContainer;
            container.innerHTML = '';
            let lastTierCompleted = true;
            TIERS_CONFIG.forEach((tier, index) => {
                const completedLevelsInTier = currentPlayerProfile.singlePlayerProgress?.[tier.id]?.length || 0;
                const isTierCompleted = completedLevelsInTier >= tier.levels;
                const isLocked = index > 0 && !lastTierCompleted;
                
                const card = document.createElement('div');
                card.className = `card ${isLocked ? 'locked' : ''} ${isTierCompleted ? 'completed' : ''}`;
                card.innerHTML = `<h3 class="card-title">${isLocked ? '🔒 ' : ''}${tier.name} ${tier.medal}</h3><p class="card-details">مكتمل: ${completedLevelsInTier}/${tier.levels}</p>`;
                if (!isLocked) card.addEventListener('click', () => displayLevelsForTier(tier));
                container.appendChild(card);
                if (!isTierCompleted) lastTierCompleted = false;
            });
            showScreen('single-player-menu-screen');
        };

        const displayLevelsForTier = (tier) => {
            allElements.levelSelectTitle.textContent = tier.name;
            const grid = allElements.levelsGrid;
            grid.innerHTML = '';
            let canUnlockNext = true;
            for (let i = 1; i <= tier.levels; i++) {
                const levelIndex = i - 1;
                const card = document.createElement('div');
                card.className = 'level-card';
                card.innerHTML = `<h4 class="level-title">المستوى ${i}</h4>`;
                const isCompleted = currentPlayerProfile.singlePlayerProgress?.[tier.id]?.includes(levelIndex);

                if (isCompleted) card.classList.add('completed');
                if (canUnlockNext) {
                    card.addEventListener('click', () => startSinglePlayerMatch(tier, levelIndex));
                    if (!isCompleted) canUnlockNext = false;
                } else {
                    card.classList.add('locked');
                    card.innerHTML += '<span>🔒</span>';
                }
                grid.appendChild(card);
            }
            showScreen('level-select-screen');
        };

        const startSinglePlayerMatch = (tier, levelIndex) => {
            const questions = [...OFFLINE_QUESTION_BANK].sort(() => 0.5 - Math.random()).slice(0, tier.questionsPerLevel);
            currentMatchState = { type: 'single', tier, levelIndex, questions, currentQuestionIndex: 0, score: 0 };
            showScreen('match-screen');
            displayMatchQuestion();
        };

        const finishSinglePlayerLevel = async () => {
            if (!currentMatchState) return;
            const { tier, levelIndex, score } = currentMatchState;
            const playerRef = doc(db, "players", currentPlayerProfile.id);

            await updateDoc(playerRef, {
                score: increment(score),
                [`singlePlayerProgress.${tier.id}`]: arrayUnion(levelIndex)
            });

            const freshProfileDoc = await getDoc(playerRef);
            currentPlayerProfile = { id: freshProfileDoc.id, ...freshProfileDoc.data() };

            const completedInTier = currentPlayerProfile.singlePlayerProgress?.[tier.id]?.length || 0;
            if (completedInTier >= tier.levels) {
                const currentTierIndex = TIERS_CONFIG.findIndex(t => t.id === currentPlayerProfile.highestTierId);
                const newTierIndex = TIERS_CONFIG.findIndex(t => t.id === tier.id);
                if (currentPlayerProfile.highestTierId === null || newTierIndex > currentTierIndex) {
                    await updateDoc(playerRef, { highestTierId: tier.id });
                    currentPlayerProfile.highestTierId = tier.id;
                    alert(`تهانينا! لقد أتقنت ${tier.name} وحصلت على لقب ${tier.medal}`);
                }
            }
            displayLevelsForTier(tier);
        };

        const createLobby = async (type) => {
            if (!currentPlayerProfile) return;
            const lobbyCode = Math.random().toString(36).substring(2, 6).toUpperCase();
            const lobbyRef = doc(db, "lobbies", lobbyCode);
            const tierInfo = getHighestTierInfo(currentPlayerProfile);
            const hostData = { 
                id: currentPlayerProfile.id, 
                name: currentPlayerProfile.name, 
                title: tierInfo ? tierInfo.name : 'لاعب جديد',
                medal: tierInfo ? tierInfo.medal : '',
                score: 0, 
                teleoptiId: currentPlayerProfile.id 
            };
            await setDoc(lobbyRef, { type, hostId: currentPlayerProfile.id, players: [hostData], status: 'waiting', createdAt: serverTimestamp() });
            joinLobby(lobbyCode);
        };

        const joinLobby = async (lobbyCode) => {
            if (!currentPlayerProfile) return;
            lobbyCode = lobbyCode.toUpperCase();
            const lobbyRef = doc(db, "lobbies", lobbyCode);
            try {
                await runTransaction(db, async (transaction) => {
                    const docSnap = await transaction.get(lobbyRef);
                    if (!docSnap.exists()) throw new Error("الردهة غير موجودة.");
                    const lobbyData = docSnap.data();
                    if(lobbyData.status !== 'waiting') throw new Error("المنافسة قد بدأت بالفعل.");
                    if (lobbyData.players.some(p => p.id === currentPlayerProfile.id)) return;
                    if(lobbyData.type === '1v1' && lobbyData.players.length >=2) throw new Error("هذه المواجهة ممتلئة.");
                    
                    const tierInfo = getHighestTierInfo(currentPlayerProfile);
                    const playerData = { 
                        id: currentPlayerProfile.id, 
                        name: currentPlayerProfile.name, 
                        title: tierInfo ? tierInfo.name : 'لاعب جديد',
                        medal: tierInfo ? tierInfo.medal : '',
                        score: 0,
                        teleoptiId: currentPlayerProfile.id 
                    };
                    transaction.update(lobbyRef, { players: arrayUnion(playerData) });
                });

                if (currentLobbyUnsubscribe) currentLobbyUnsubscribe();
                currentLobbyUnsubscribe = onSnapshot(lobbyRef, handleLobbyUpdate);
            } catch (e) {
                alert(e.message);
            }
        };
        
        const handleLobbyUpdate = (docSnap) => {
            if (!docSnap.exists()) {
                if(currentLobbyUnsubscribe) { currentLobbyUnsubscribe(); currentLobbyUnsubscribe = null; }
                alert("تم إغلاق الردهة.");
                showScreen('online-menu-screen');
                return;
            }
            const lobby = { id: docSnap.id, ...docSnap.data() };
            currentMatchState = lobby;
            
            if (lobby.status === 'waiting') {
                updateLobbyScreen(lobby);
                showScreen('online-lobby-screen');
            } else if (lobby.status === 'in-progress') {
                showScreen('match-screen');
                displayMatchQuestion();
            } else if (lobby.status === 'finished') {
                displayPodiumScreen(lobby);
                if (currentLobbyUnsubscribe) { currentLobbyUnsubscribe(); currentLobbyUnsubscribe = null; }
            }
        };
        
        const updateLobbyScreen = (lobby) => {
            allElements.lobbyTitle.textContent = lobby.type === '1v1' ? 'ردهة 1 ضد 1' : 'ردهة المنافسة الحاشدة';
            allElements.lobbyCodeDisplay.textContent = lobby.id;
            const playersList = allElements.lobbyPlayersList;
            playersList.innerHTML = '';
            lobby.players.forEach(p => {
                const item = document.createElement('div');
                item.className = 'list-item';
                item.style.justifyContent = 'center';

                const nameContainer = document.createElement('div');
                nameContainer.className = 'item-name-container';
                
                const titleSpan = document.createElement('span');
                titleSpan.className = 'player-title-medal';
                titleSpan.textContent = p.medal;

                const nameSpan = document.createElement('span');
                nameSpan.className = 'item-name';
                nameSpan.textContent = ` ${p.name} ${lobby.hostId === p.id ? '👑' : ''}`;

                nameContainer.append(titleSpan, nameSpan);
                item.appendChild(nameContainer);
                playersList.appendChild(item);
            });
            const startBtn = allElements.startGameBtn;
            startBtn.style.display = lobby.hostId === currentPlayerProfile.id ? 'flex' : 'none';
            const canStart = lobby.type === '1v1' ? lobby.players.length === 2 : lobby.players.length >= 2;
            startBtn.disabled = !canStart;
        };

        const startGame = async () => {
            if (!currentMatchState || currentMatchState.hostId !== currentPlayerProfile.id) return;
            const questionCount = currentMatchState.type === '1v1' ? 5 : 10;
            const questions = [...ONLINE_QUESTION_BANK].sort(() => 0.5 - Math.random()).slice(0, questionCount);
            await updateDoc(doc(db, "lobbies", currentMatchState.id), { status: 'in-progress', questions, currentQuestionIndex: 0, answers: {} });
        };
        
        const advanceOnlineQuestion = async () => {
            if (!currentMatchState || currentMatchState.hostId !== currentPlayerProfile.id) return;
            const lobbyRef = doc(db, "lobbies", currentMatchState.id);
            const nextIndex = currentMatchState.currentQuestionIndex + 1;

            if (nextIndex >= currentMatchState.questions.length) {
                const batch = writeBatch(db);
                const players = currentMatchState.players.sort((a,b) => b.score - a.score);
                if(currentMatchState.type === '1v1') {
                    if (players.length > 0 && (players.length === 1 || players[0].score > players[1].score) ) {
                        batch.update(doc(db, "players", players[0].id), { score: increment(30), awards: arrayUnion("Botros Race Cup 🏆") });
                    }
                } else {
                     const ranks = {}; let rank = 1;
                     for(let i=0; i < players.length; i++){
                        if(i > 0 && players[i].score < players[i-1].score) rank = i + 1;
                        if (rank <= 3) {
                            if (!ranks[rank]) ranks[rank] = [];
                            ranks[rank].push(players[i]);
                        }
                     }
                    if(ranks[1]) ranks[1].forEach(p => batch.update(doc(db, "players", p.id), { score: increment(150), awards: arrayUnion("🥇") }));
                    if(ranks[2]) ranks[2].forEach(p => batch.update(doc(db, "players", p.id), { score: increment(100), awards: arrayUnion("🥈") }));
                    if(ranks[3]) ranks[3].forEach(p => batch.update(doc(db, "players", p.id), { score: increment(50), awards: arrayUnion("🥉") }));
                }
                await batch.commit();
                await updateDoc(lobbyRef, { status: 'finished' });
            } else {
                await updateDoc(lobbyRef, { currentQuestionIndex: nextIndex });
            }
        };
        
        const displayPodiumScreen = (lobby) => {
            showScreen('podium-screen');
            const sorted = lobby.players.sort((a,b) => b.score - a.score);
            const podiumContainer = allElements.podiumContainer;
            podiumContainer.innerHTML = '';
            
            const ranks = {}; let rankCounter = 1;
            for(let i=0; i < sorted.length; i++){
               if(i > 0 && sorted[i].score < sorted[i-1].score) rankCounter = i + 1;
               if (rankCounter <= 3) {
                   if (!ranks[rankCounter]) ranks[rankCounter] = [];
                   ranks[rankCounter].push(sorted[i]);
               }
            }
            
            const podiumOrder = [2, 1, 3];
            podiumOrder.forEach(rank => {
                const standDiv = document.createElement('div');
                standDiv.className = `podium-stand stand-${rank}`;
                if (ranks[rank]) {
                    const rankMedal = {1: '🥇', 2: '🥈', 3: '🥉'};
                    standDiv.innerHTML += `<div class="podium-rank">${lobby.type === 'massive' ? rankMedal[rank] : '🏆'}</div>`;
                    ranks[rank].forEach(p => {
                       const titleName = p.title || 'لاعب جديد';
                       standDiv.innerHTML += `<div class="podium-name">${titleName} - ${p.name}</div><div class="podium-score">${p.score} نقطة</div>`;
                    });
                }
                podiumContainer.appendChild(standDiv);
            });
        };
        
        const displayMatchQuestion = () => {
            if (!currentMatchState) return;
            const { type, questions, currentQuestionIndex, tier, players, answers } = currentMatchState;
            const question = questions?.[currentQuestionIndex];
            if (!question) return;

            const time = type === 'single' ? tier.timePerQuestion : 20;
            if(type === 'online') {
                const p1 = players[0]; 
                const p2 = players[1];
                let headerContent = `منافسة حاشدة: ${players.length} لاعبين`;
                if(players.length === 2 && p1 && p2) {
                    allElements.matchHeader.innerHTML = '';
                    const p1Medal = document.createElement('span'); p1Medal.className = 'player-title-medal'; p1Medal.textContent = p1.title;
                    const p1Name = document.createTextNode(` ${p1.name} `);
                    const vs = document.createElement('span'); vs.style.color = 'var(--accent-yellow)'; vs.textContent = 'vs';
                    const p2Medal = document.createElement('span'); p2Medal.className = 'player-title-medal'; p2Medal.textContent = p2.title;
                    const p2Name = document.createTextNode(` ${p2.name}`);
                    allElements.matchHeader.append(p1Medal, p1Name, vs, p2Medal, p2Name);
                } else {
                    allElements.matchHeader.textContent = headerContent;
                }
            } else {
                 allElements.matchHeader.textContent = `${tier.name} - المستوى ${currentMatchState.levelIndex + 1}`;
            }

            allElements.questionCounter.textContent = `السؤال ${currentQuestionIndex + 1} / ${questions.length}`;
            allElements.questionText.textContent = question.question;
            const optionsGrid = allElements.optionsGrid;
            optionsGrid.innerHTML = '';
            allElements.surrenderBtn.style.display = type === 'online' ? 'flex' : 'none';
            
            const myAnswer = type === 'online' ? answers?.[`q${currentQuestionIndex}`]?.[currentPlayerProfile.id] : null;
            
            (question.options || []).forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'btn btn-secondary option-btn';
                btn.textContent = opt;
                if (type === 'online' && myAnswer) {
                    btn.disabled = true;
                    if(index === question.correct_answer) btn.classList.add('correct');
                    if(index === myAnswer.option && !myAnswer.correct) btn.classList.add('wrong');
                } else {
                    btn.onclick = () => handleAnswer(index);
                }
                optionsGrid.appendChild(btn);
            });

            const timerBar = allElements.timerBar;
            timerBar.style.transition = 'none';
            timerBar.style.width = '100%';
            setTimeout(() => { timerBar.style.transition = `width ${time}s linear`; timerBar.style.width = '0%'; }, 100);
            
            if(matchTimer) clearTimeout(matchTimer);
            if(type === 'single') {
                matchTimer = setTimeout(() => handleAnswer(null), time * 1000);
            } else if (currentPlayerProfile?.id === currentMatchState?.hostId) {
                const timeoutDuration = time * 1000 + 3000;
                matchTimer = setTimeout(advanceOnlineQuestion, timeoutDuration);
            }
        };

        const handleAnswer = async (optionIndex) => {
            if (!currentMatchState) return;
            const { type, questions, currentQuestionIndex } = currentMatchState;
            const question = questions[currentQuestionIndex];
            const isCorrect = question.correct_answer === optionIndex;
            
            document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);
            
            if (type === 'single') {
                if(matchTimer) clearTimeout(matchTimer);
                if(isCorrect) {
                    if(optionIndex !== null) document.querySelectorAll('.option-btn')[optionIndex].classList.add('correct');
                    currentMatchState.score += 10;
                } else {
                     if (optionIndex !== null) document.querySelectorAll('.option-btn')[optionIndex].classList.add('wrong');
                     document.querySelectorAll('.option-btn')[question.correct_answer].classList.add('correct');
                }
                
                setTimeout(async () => {
                    const nextIndex = currentQuestionIndex + 1;
                    if(nextIndex >= questions.length) {
                        if(currentMatchState.score > 0) await finishSinglePlayerLevel();
                        else {
                            alert("يجب أن تجيب على سؤال واحد صحيح على الأقل لاجتياز المستوى.");
                            displayLevelsForTier(currentMatchState.tier);
                        }
                    } else {
                        currentMatchState.currentQuestionIndex = nextIndex;
                        displayMatchQuestion();
                    }
                }, 2000);

            } else { // Online
                 const lobbyRef = doc(db, "lobbies", currentMatchState.id);
                 const lobbyDoc = await getDoc(lobbyRef);
                 const lobbyData = lobbyDoc.data();
                 const playerIndex = lobbyData.players.findIndex(p => p.id === currentPlayerProfile.id);

                 if (playerIndex !== -1 && !lobbyData.answers?.[`q${currentQuestionIndex}`]?.[currentPlayerProfile.id]) {
                     const updatedPlayers = [...lobbyData.players];
                     if(isCorrect) updatedPlayers[playerIndex].score += 10;
                     await updateDoc(lobbyRef, {
                         [`answers.q${currentQuestionIndex}.${currentPlayerProfile.id}`]: { option: optionIndex, correct: isCorrect },
                         players: updatedPlayers
                     });
                 }
            }
        };
        
        const initializeAppLogic = () => {
            document.querySelectorAll('[id]').forEach(el => {
                const camelCaseId = el.id.replace(/-([a-z])/g, g => g[1].toUpperCase());
                allElements[camelCaseId] = el;
            });

            allElements.muteBtn.addEventListener('click', () => {
                 if (!musicPlayer) {
                    musicPlayer = new Audio('https://v15mbanna3.github.io/my-sounds/Gna7%20felsama.mp3');
                    musicPlayer.loop = true;
                }
                isMuted = !isMuted;
                if (isMuted) {
                    musicPlayer.pause();
                    allElements.muteBtn.textContent = '🔇';
                } else {
                    musicPlayer.play().catch(() => { isMuted = true; allElements.muteBtn.textContent = '🔇'; });
                    allElements.muteBtn.textContent = '🔊';
                }
            });

            document.body.addEventListener('click', e => {
                const targetId = e.target.closest('[id]')?.id;
                
                if(e.target.closest('.back-btn')) {
                    const parentScreen = e.target.closest('.screen-container');
                    const targetScreen = parentScreen?.querySelector('.back-btn')?.dataset.target || 'main-menu-screen';
                    if (currentLobbyUnsubscribe) { currentLobbyUnsubscribe(); currentLobbyUnsubscribe = null; }
                    if (matchTimer) clearTimeout(matchTimer);
                    if(targetScreen === 'single-player-menu-screen') return displaySinglePlayerMenu();
                    
                    updateMainMenu();
                    showScreen(targetScreen);
                    return;
                }
                
                if(!targetId) return;

                switch (targetId) {
                    case 'login-btn': handleLogin(); break;
                    case 'logout-btn': handleLogout(); break;
                    case 'single-player-tab': displaySinglePlayerMenu(); break;
                    case 'online-tab': showScreen('online-menu-screen'); break;
                    case 'create-1v1-lobby-btn': createLobby('1v1'); break;
                    case 'create-massive-lobby-btn': createLobby('massive'); break;
                    case 'join-lobby-btn': showScreen('join-lobby-screen'); break;
                    case 'submit-join-lobby-btn': joinLobby(allElements.lobbyCodeInput.value); break;
                    case 'start-game-btn': startGame(); break;
                    case 'share-whatsapp-btn': 
                        if (currentMatchState) {
                            const text = `انضم لمنافستي في Botros Race! استخدم الكود ${currentMatchState.id}`;
                            window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`, '_blank');
                        }
                        break;
                    case 'leaderboard-tab': 
                        showScreen('leaderboard-screen');
                        getDocs(query(collection(db, "players"), orderBy("score", "desc"), limit(50))).then(snap => {
                            const players = snap.docs.map(d => ({id: d.id, ...d.data()}));
                            const list = allElements.leaderboardList;
                            list.innerHTML = '';
                            players.forEach((p, i) => {
                                const item = document.createElement('div');
                                item.className = `list-item ${i<3 ? 'winner-'+(i+1) : ''}`;
                                
                                const rankSpan = document.createElement('span');
                                rankSpan.className = 'item-rank';
                                rankSpan.textContent = i + 1;

                                const infoDiv = document.createElement('div');
                                infoDiv.className = 'item-info';

                                const tierInfo = getHighestTierInfo(p);
                                const medalSpan = document.createElement('span');
                                medalSpan.className = 'player-title-medal';
                                medalSpan.textContent = tierInfo ? tierInfo.medal : '';

                                const nameDetailsDiv = document.createElement('div');
                                nameDetailsDiv.className = 'item-name-details';

                                const nameSpan = document.createElement('span');
                                nameSpan.className = 'item-name';
                                nameSpan.textContent = p.name;
                                
                                const rankNameSpan = document.createElement('span');
                                rankNameSpan.className = 'item-rank-name';
                                rankNameSpan.textContent = `${tierInfo ? tierInfo.name : 'لاعب جديد'} (${p.teleoptiId})`;

                                nameDetailsDiv.append(nameSpan, rankNameSpan);
                                infoDiv.append(rankSpan, medalSpan, nameDetailsDiv);
                                
                                const scoreSpan = document.createElement('span');
                                scoreSpan.className = 'item-value';
                                scoreSpan.textContent = `${p.score||0} نقطة`;

                                item.append(infoDiv, scoreSpan);
                                list.appendChild(item);
                            });
                        });
                        break;
                    case 'awards-tab':
                         if (!currentPlayerProfile) return;
                         allElements.awardsList.innerHTML = '';
                         const awards = currentPlayerProfile.awards || [];
                         if (awards.length === 0) {
                             allElements.awardsList.innerHTML = `<p style="text-align:center; color: var(--text-secondary);">لم تحصل على أي كؤوس بعد. العب لتربح!</p>`;
                         } else {
                             awards.forEach(award => {
                                 const item = document.createElement('div');
                                 item.className = 'list-item';
                                 item.style.justifyContent = 'center';
                                 const awardSpan = document.createElement('span');
                                 awardSpan.className = 'item-name';
                                 awardSpan.textContent = award;
                                 item.appendChild(awardSpan);
                                 allElements.awardsList.appendChild(item);
                             });
                         }
                         showScreen('awards-screen');
                        break;
                }
            });

            onAuthStateChanged(auth, user => {
                currentUser = user;
                const rememberedId = localStorage.getItem('botros-race-teleoptiId');
                if (user && rememberedId) {
                    loadProfileAndStart(rememberedId);
                } else {
                    showScreen('registration-screen');
                }
                allElements.loadingScreen.classList.remove('active');
            });
        };
        
        document.querySelectorAll('#templates > div').forEach(template => {
            const targetId = template.id.replace('-template', '');
            const container = document.getElementById(targetId);
            if (container) container.innerHTML = template.innerHTML;
        });
        document.getElementById('templates').remove();
        initializeAppLogic();
    </script>
</body>
</html>
